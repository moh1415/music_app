{"version":3,"sources":["images/dottedCircle.svg","images/CompletedTick.svg","images/DownloadIcon.svg","components/RenderDatabase.js","components/DownloadDeleteDialog.js","apis/suggestSearch.js","components/header/AutoSearchResult.js","components/header/SearchBox.js","components/header/SimpleAppBar.js","components/player/PlayPauseButton.js","components/player/NextButton.js","components/player/PreviousButton.js","components/player/MusicArt.js","components/player/SleepTimer.js","components/player/TimelineController.js","components/player/VolumeController.js","components/RelatedVideos.js","components/player/TopBar.js","components/player/MiniMusicArt.js","external/saveCountry.js","components/player/MainPlayer.js","components/CurrentSection.js","components/SwipeMenu.js","components/sections/SettingsPage.js","components/AppContainer.js","components/App.js","serviceWorker.js","index.js","components/GlobalState.js","external/saveSong.js","apis/youtubeSearch.js","apis/getAudioLink.js","images/moon-solid.svg","images/sun-solid.svg"],"names":["module","exports","__webpack_require__","p","currentId","DownloadDeleteDialog","_ref","isOpen","handleCancel","handleDelete","_useState","useState","_useState2","Object","slicedToArray","checkBox","setCheckBox","React","useEffect","console","log","react_default","a","createElement","Dialog","style","zIndex","open","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","FormControlLabel","control","Checkbox","color","checked","onChange","e","target","value","label","DialogActions","Button","onClick","useSongMethods","songId","_useContext","useContext","GlobalContext","_useContext2","objectDestructuringEmpty","dispatch","setSnackbarMsg","useCallback","data","type","snippet","deleteDialogState","setDeleteDialogState","_useState3","_useState4","dontAskPopup","setDontAskPopup","popupLocalState","localStorage","getItem","handleDownload","asyncToGenerator","regenerator_default","mark","_callee","res","status","wrap","_context","prev","next","getAudioLink","get","params","sent","downloadSong","stop","_x","apply","this","arguments","deleteTheSong","_ref2","_callee2","_context2","deleteSongAudio","setItem","_x2","deleteDialogComponent","components_DownloadDeleteDialog","handleRemoveSong","RenderDatabase","props","songs","_useContext3","_useContext4","_useState5","window","innerHeight","_useState6","setWindowHeight","handleClick","song","videoId","audio","thumbnail","title","channelTitle","maxThumbnail","concat","sdThumbnail","_useSongMethods","returnAnimatedClass","downloadState","renderResult","map","index","Fragment","ListItem","alignItems","button","ListItemAvatar","Avatar","className","width","height","marginRight","alt","src","ListItemText","primary","secondary","Typography","component","variant","CompletedTick","DownloadIcon","renderItem","forwardRef","row","ref","objectSpread2","maxWidth","left","transform","Divider","index_esm","itemCount","length","innerWidth","axios","create","baseURL","adapter","jsonpAdapter","hl","ds","client","AutoSearchResult","results","onSearchSelect","result","key","ListItemIcon","paddingLeft","Search","List","withRouter","history","location","URLSearchParams","search","searchState","setSearchState","setSearchResult","searchQuery","setSearchQuery","autoSearchData","setAutoSearch","ytSearchQuery","setYtSearchQuery","_useState7","_useState8","isPopperOpen","setPopper","push","pathname","getAutocomplete","response","suggestSearch","q","_ref3","youtubeSearch","maxResults","items","searchYt","query","IconButton","goBack","aria-label","ArrowBack","onSubmit","preventDefault","lastChild","blur","onSearchSubmit","InputBase","fullWidth","placeholder","autoFocus","Popper","anchorEl","document","getElementById","popperOptions","modifiers","preventOverflow","padding","placement","Grid","container","justify","CircularProgress","header_AutoSearchResult","styles","root","flexGrow","textAlign","input","HideOnScroll","children","trigger","useScrollTrigger","Slide","appear","direction","in","changeAppBar","path","listen","AppBar","position","Toolbar","Menu","header_SearchBox","PlayPauseButton","player","audioState","minimized","size","pause","play","stopPropagation","disableFocusRipple","disableRipple","Pause","fontSize","opacity","PauseCircleFilled","PlayArrow","PlayCircleFilled","onPlayNext","SkipNext","playPrevious","SkipPrevious","dblTouchTapMaxDelay","latestTouchTap","time","timerTimeout","MusicArt","rating","audioEl","swipeUpHandler","useSwipeable","onSwipedUp","dislikeSong","heartStyle","setHeartStyle","artContainerStyle","background","circleSvg","likeSong","setTimeout","rateSong","marginTop","event","touchTap","Date","getTime","currentTarget","isFastDblTouchTap","isDblTouchTap","framer_motion_es","div","assign","drag","dragElastic","dragTransition","bounceStiffness","bounceDamping","dragConstraints","right","top","bottom","FavoriteTwoTone","boxShadow","URL","createObjectURL","imgProps","onLoad","naturalWidth","checkImg","align","re","RegExp","replace","shortTitle","PrettoSlider","withStyles","thumb","marginLeft","&::before","content","borderRadius","border","track","rail","Slider","MiniSlider","display","formatTime","secs","minutes","Math","floor","seconds","ceil","TimelineController","currentTime","setCurrentTime","setTimeInterval","setInterval","clearInterval","max","duration","margin","newValue","VolumeController","setPlayerState","volume","setVolume","spacing","item","VolumeUp","xs","newVal","setSleepTimeToLocalStorage","alwaysOn","sleepTimerSettings","JSON","stringify","getSleepTimeFromLocalStoarge","parse","removeSleepTimer","removeItem","SleepTimer","sliderValue","changeSliderValue","setOpen","checkbox","setCheckbox","isTimerSet","setIsTimerSet","setTimer","clearTimeout","sleepTimerObj","Timer","TimerOff","react_circle_slider_lib","stepSize","gradientColorFrom","gradientColorTo","knobRadius","progressWidth","circleWidth","Switch","labelPlacement","DownloadLoader","LinearProgress","TopBar","snackbarMsg","isSongDownloaded","setSongDownloaded","isSongDownloading","setSongDownloading","player_VolumeController","Reply","navigator","share","text","url","href","then","catch","error","player_SleepTimer","DoneOutline","GetApp","ExpandMore","MiniMuiscArt","playPause","playNext","emptyPlayer","Close","player_PlayPauseButton","RelatedVideos","toggleMaxPlaylist","setPlaylist","playerState","relatedVideos","setRelatedVideos","setIsRepeatOn","isRepeatOn","spring","damping","stiffness","video","li","positionTransition","MusicVideo","slice","LibraryMusic","Shuffle","arry","reduce","acc","_","i","rnd","random","temp","toConsumableArray","RepeatOne","Repeat","KeyboardArrowDown","KeyboardArrowUp","dense","country_code","mode","country","fetchCountry","relatedVideosVar","previousLocation","MainPlayer","_useContext2$","currentVideoSnippet","themeSelectValue","setCurrentVideoSnippet","isItFromPlaylist","setIsItFromPlaylist","setAudioState","_useState9","_useState10","setMinimized","_useState11","_useState12","_useState13","_useState14","setRating","_useState15","_useState16","isNextFromMini","setIsNextFromMini","_useState17","_useState18","body","querySelector","audioPlayer","useRef","current","setupMediaSessions","mediaSession","metadata","MediaMetadata","artist","artwork","sizes","setActionHandler","playAudio","getAudio","searchRelated","relatedToVideoId","setAudioSrcAndPlay","_ref4","_callee3","_context3","setVideoSnippet","hidden","currentIndex","findIndex","playerStyle","transition","overflow","expandPlayer","state","modal","updateSongDB","_ref5","_callee4","_context4","updatePlayingSong","initPosition","containerRef","swipeHandlerMaximized","onSwipedDown","onSwiping","changedTouches","screenY","positionDifference","round","containerRefStyle","onSwiped","onSwipedRight","playTimeout","onSwipedLeft","swipeHandlerMin","fetchAndSetCurrentVideoSnippet","action","justifyContent","player_TopBar","player_MusicArt","player_TimelineController","PreviousButton","NextButton","components_RelatedVideos","returnMaximizedPlayer","MiniMusicArt","returnMinimizedPlayer","onLoadStart","onLoadedData","onPlay","onPlaying","onPause","onEnded","autoPlay","SwipeMenu","menuOpen","setMenuOpen","setThemeSelectValue","isNight","setIsNight","changeTheme","theme","SwipeableDrawer","onOpen","img","sun","moon","initial","scale","animate","rotate","exit","Link","to","Settings","Info","SettingsPage","selectComp","Box","m","Select","displayEmpty","name","MenuItem","Container","gutterBottom","FormControl","FormGroup","LoginPage","lazy","bind","Promise","resolve","SearchResult","all","HomePage","FeedbackForm","PrivacyPage","DonatePage","ContributorsPage","CustomTab","indicator","labelIcon","Tabs","CustomTabs","&:hover","&$selected","&:focus","selected","Tab","deferredPrompt","undefined","addEventListener","searchResult","songsHistoryState","setSongsHistory","songsLikedState","setSongsLiked","songsDownloadedState","setSongsDownloaded","tabValue","setTabValue","updateCount","setUpdateCount","redirectState","setRedirectState","circularLoader","fetchSongs","t0","t1","getLikedSongs","t2","abrupt","t3","getDownloadedSongs","t4","t5","getHistory","t6","db","on","c","removeDownloadingState","continueToHome","prompt","userChoice","choiceResult","outcome","react","fallback","react_router","exact","render","videos","CurrentSection_RenderDatabase","player_MainPlayer","returnMainPlayer","indicatorColor","textColor","icon","Home","Favorite","History","defaultTheme","palette","pink","main","typography","useNextVariants","darkTheme","muiDarkTheme","createMuiTheme","muiDefaultTheme","AppContainer","checkDarkMode","selectedTheme","matchMedia","matches","hrs","getHours","useCheckDarkmode","userAgent","match","overscrollBehavior","classList","add","remove","ThemeProvider","react_router_dom","header_SimpleAppBar","CurrentSection","components_SwipeMenu","App","GlobalState","components_AppContainer","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","components_App","process","origin","fetch","contentType","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","createContext","initialState","reducer","D_prog_react_native_react_mus_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","globalState","useReducer","react__WEBPACK_IMPORTED_MODULE_1___default","Provider","Dexie","version","stores","D_prog_react_native_react_mus_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","D_prog_react_native_react_mus_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","videoObj","timestamp","now","playbackTimes","update","_x3","songsByTimeStamp","orderBy","limit","reverse","toArray","likedSongs","where","between","minKey","maxKey","_callee5","downloadedSongs","_context5","_ref6","_callee6","_context6","modify","x","_ref7","_callee7","thumbURL","_yield$Promise$all","_yield$Promise$all2","thumbnailBlob","songBlob","_context7","fetchProxiedBlob","D_prog_react_native_react_mus_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","_x4","_x5","_ref8","_callee8","_context8","_x6","reject","xhr","XMLHttpRequest","responseType","onload","statusText","send","abort","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","part","videoCategoryId","keys","split","selectRandomKey"],"mappings":"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","file":"static/js/main.6d4b6748.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/dottedCircle.c96ca893.svg\";","module.exports = __webpack_public_path__ + \"static/media/CompletedTick.ffcb10fd.svg\";","module.exports = __webpack_public_path__ + \"static/media/DownloadIcon.e927ae19.svg\";","import React, { useContext, useState, useEffect } from \"react\";\r\n// import {\r\n//   List,\r\n//   AutoSizer,\r\n//   CellMeasurer,\r\n//   CellMeasurerCache\r\n// } from \"react-virtualized\";\r\n\r\nimport { DynamicSizeList as List } from \"react-window-dynamic\";\r\n\r\n\r\nimport CompletedTick from \"../images/CompletedTick.svg\";\r\nimport DownloadIcon from \"../images/DownloadIcon.svg\";\r\n\r\nimport {\r\n  ListItem,\r\n  Typography,\r\n  ListItemAvatar,\r\n  Avatar,\r\n  Divider,\r\n  ListItemText\r\n} from \"@material-ui/core\";\r\n\r\nimport DownloadDeleteDialog from \"./DownloadDeleteDialog\";\r\n\r\nimport { GlobalContext } from \"./GlobalState\";\r\n\r\nimport getAudioLink from \"../apis/getAudioLink\";\r\nimport { downloadSong, deleteSongAudio } from \"../external/saveSong\";\r\n\r\n// const cache = new CellMeasurerCache({\r\n//   minHeight: 50,\r\n//   defaultHeight: 60,\r\n//   fixedWidth: true\r\n//   // keyMapper: () => 1\r\n// });\r\n\r\nlet currentId;\r\n\r\nexport const useSongMethods = songId => {\r\n  const [{}, dispatch] = useContext(GlobalContext);\r\n\r\n  const setSnackbarMsg = React.useCallback(\r\n    data => {\r\n      dispatch({ type: \"setSnackbarMsg\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const [deleteDialogState, setDeleteDialogState] = useState(false);\r\n  const [dontAskPopup, setDontAskPopup] = useState(null);\r\n\r\n  useEffect(() => {\r\n    //convert string to bool\r\n    const popupLocalState = localStorage.getItem(\"dontAskPopup\") === \"true\";\r\n    setDontAskPopup(popupLocalState);\r\n    // for popup settings\r\n  }, []);\r\n\r\n  const handleDownload = async songId => {\r\n    // console.log(\"here is the id\", songId);\r\n    const res = await getAudioLink.get(\"/song\", {\r\n      params: { id: songId }\r\n    });\r\n    // first we will fetch the song link then we will download it\r\n    // the download song function takes id and the url\r\n    const status = await downloadSong(songId, res.data);\r\n    // after the downloading is done we will remove the downloading class\r\n    // set the snackbar message\r\n    setSnackbarMsg(\"Song Downloaded\");\r\n    console.log(\"song status\", status);\r\n  };\r\n\r\n  const disablePopup = () => {\r\n    localStorage.setItem(\"dontAskPopup\", true);\r\n    setDontAskPopup(true);\r\n  };\r\n\r\n  const deleteTheSong = async checkBox => {\r\n    const deleted = await deleteSongAudio(currentId);\r\n    setDeleteDialogState(false);\r\n    setSnackbarMsg(\"Deleted Successfully\");\r\n\r\n    console.log(currentId, checkBox);\r\n    // we will set it to localstorage the popup option\r\n    if (checkBox) {\r\n      disablePopup();\r\n    }\r\n  };\r\n\r\n  // hadnling download dialog\r\n  const handleRemoveSong = songId => {\r\n    console.log(\"handle remove dude\");\r\n    currentId = songId;\r\n    // when user clicks on the download badge we will check the state\r\n    // then delete the song without showing the popup if dontAskPopup is true\r\n    // and delete the song by calling deleteTheSong\r\n    dontAskPopup ? deleteTheSong() : setDeleteDialogState(true);\r\n  };\r\n\r\n  const deleteDialogComponent = dontAskPopup ? null : (\r\n    <DownloadDeleteDialog\r\n      isOpen={deleteDialogState}\r\n      handleCancel={() => setDeleteDialogState(false)} // we will just hide the dialog on cancel\r\n      handleDelete={deleteTheSong} //if user wants to delete the song we will just do it\r\n    />\r\n  );\r\n\r\n  return {\r\n    handleDownload,\r\n    handleRemoveSong,\r\n    deleteTheSong,\r\n    dontAskPopup,\r\n    setDeleteDialogState,\r\n    deleteDialogState,\r\n    deleteDialogComponent\r\n  };\r\n};\r\n\r\nconst RenderDatabase = props => {\r\n  const songs = props.songs;\r\n  const [{}, dispatch] = useContext(GlobalContext);\r\n  const setCurrentVideoSnippet = data => {\r\n    dispatch({ type: \"setCurrentVideoSnippet\", snippet: data });\r\n  };\r\n  const setSnackbarMsg = data => {\r\n    dispatch({ type: \"setSnakbarMsg\", snippet: data });\r\n  };\r\n\r\n  const [windowHeight, setWindowHeight] = useState(window.innerHeight);\r\n\r\n  const handleClick = song => {\r\n    // set all the info of current clicked video in this object\r\n    setCurrentVideoSnippet({\r\n      id: song.videoId,\r\n      audio: song.audio,\r\n      thumbnail: song.thumbnail,\r\n      title: song.title,\r\n      channelTitle: song.channelTitle,\r\n      maxThumbnail: `https://img.youtube.com/vi/${song.videoId}/maxresdefault.jpg`,\r\n      sdThumbnail: `https://img.youtube.com/vi/${song.videoId}/sddefault.jpg`\r\n      // this is the url of the max resolution of thumbnail\r\n    });\r\n  };\r\n\r\n  const {\r\n    handleDownload,\r\n    handleRemoveSong,\r\n    deleteDialogComponent\r\n  } = useSongMethods();\r\n\r\n  const returnAnimatedClass = song => {\r\n    if (song.downloadState === \"downloading\") {\r\n      console.log(song.downloadState);\r\n      return \"downloading-animation\";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    setWindowHeight(window.innerHeight);\r\n  });\r\n\r\n  const renderResult = songs.map((song, index) => {\r\n    return (\r\n      <>\r\n        <ListItem\r\n          alignItems=\"flex-start\"\r\n          button\r\n          onClick={() => handleClick(song)}\r\n          // component={Link}\r\n          // to={{ pathname: \"/play\", search: `?id=${song.videoId}`, state: { modal: true } }}\r\n        >\r\n          <ListItemAvatar>\r\n            <Avatar\r\n              className=\"searchThumb\"\r\n              style={{ width: \"60px\", height: \"60px\", marginRight: \"15px\" }}\r\n              alt={song.title}\r\n              src={`https://img.youtube.com/vi/${song.videoId}/default.jpg`}\r\n            />\r\n          </ListItemAvatar>\r\n          {/* we will play the song when clicked on title */}\r\n          <ListItemText\r\n            primary={song.title}\r\n            secondary={\r\n              <React.Fragment>\r\n                <Typography\r\n                  component=\"span\"\r\n                  variant=\"body2\"\r\n                  color=\"textPrimary\"\r\n                >\r\n                  {song.channelTitle}\r\n                </Typography>\r\n              </React.Fragment>\r\n            }\r\n          />\r\n        </ListItem>\r\n        <div\r\n          className=\"download-container\"\r\n          onClick={() =>\r\n            song.audio\r\n              ? handleRemoveSong(song.videoId)\r\n              : handleDownload(song.videoId)\r\n          }\r\n        >\r\n          <div className=\"badge-container\">\r\n            {/* if there is audio file then we will show tick mark icon */}\r\n            <img\r\n              className={returnAnimatedClass(song)}\r\n              src={song.audio ? CompletedTick : DownloadIcon}\r\n              alt=\"downloading icon\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  });\r\n\r\n  const renderItem = React.forwardRef((row, ref) => (\r\n    <div\r\n      ref={ref}\r\n      style={{\r\n        ...row.style,\r\n        maxWidth: \"1000px\",\r\n        left: \"50%\",\r\n        transform: \"translateX(-50%)\"\r\n      }}\r\n    >\r\n      {renderResult[row.index]}\r\n      <Divider />\r\n    </div>\r\n  ));\r\n  return (\r\n    <>\r\n      {deleteDialogComponent}\r\n\r\n      <List\r\n        height={window.innerHeight - 100}\r\n        itemCount={songs.length}\r\n        width={window.innerWidth}\r\n      >\r\n        {renderItem}\r\n      </List>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RenderDatabase;\r\n","import React, { useState } from \"react\";\r\nimport { FormControlLabel, Checkbox } from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nconst DownloadDeleteDialog = ({ isOpen, handleCancel, handleDelete }) => {\r\n  const [checkBox, setCheckBox] = useState(false);\r\n\r\n  React.useEffect(() => {\r\n    console.log(checkBox);\r\n  }, [checkBox]);\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        style={{ zIndex: 1500 }}\r\n        open={isOpen}\r\n        onClose={handleCancel}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n          {\"Delete this song from your device ?\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={checkBox}\r\n                onChange={e => setCheckBox(e.target.checked)}\r\n                value=\"checkBox\"\r\n              />\r\n            }\r\n            label=\"Don't ask again\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleCancel} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={() => handleDelete(checkBox)} color=\"primary\">\r\n            Delete\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DownloadDeleteDialog;\r\n","import axios from \"axios\";\r\nimport jsonpAdapter from \"axios-jsonp\"\r\n\r\nexport default axios.create({\r\n  baseURL: \"https://suggestqueries.google.com/complete/search?\",\r\n  adapter: jsonpAdapter,\r\n  params: {\r\n    hl: \"en\", // Language\r\n    ds: \"yt\", // Restrict lookup to youtube\r\n    client: \"youtube\" // force youtube style response, i.e. jsonp\r\n  }\r\n});\r\n","import React from \"react\";\r\nimport { List, ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\";\r\nimport { Search } from \"@material-ui/icons\";\r\n\r\nconst AutoSearchResult = ({ results, onSearchSelect }) => {\r\n  let renderResult = [];\r\n  if (results) {\r\n    renderResult = results.map((result, index) => {\r\n      return (\r\n        <ListItem key={index} onClick={() => onSearchSelect(result[0])} button>\r\n          <ListItemIcon style={{ paddingLeft: \"16px\" }}>\r\n            <Search />\r\n          </ListItemIcon>\r\n          <ListItemText primary={result[0]} />\r\n        </ListItem>\r\n      );\r\n    });\r\n  }\r\n  return <List>{renderResult}</List>;\r\n};\r\n\r\nexport default AutoSearchResult;\r\n","import React, { useContext, useState, useEffect, useCallback } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport {\r\n  InputBase,\r\n  IconButton,\r\n  Popper,\r\n  CircularProgress,\r\n  Grid\r\n} from \"@material-ui/core\";\r\nimport { ArrowBack } from \"@material-ui/icons\";\r\n\r\nimport { GlobalContext } from \"../GlobalState\";\r\nimport suggestSearch from \"../../apis/suggestSearch\";\r\nimport AutoSearchResult from \"./AutoSearchResult\";\r\nimport youtubeSearch from \"../../apis/youtubeSearch\";\r\n\r\nconst SearchBox = ({ history, location }) => {\r\n  let params = new URLSearchParams(location.search);\r\n\r\n  const [{ searchState }, dispatch] = useContext(GlobalContext);\r\n\r\n  const setSearchState = useCallback(\r\n    data => {\r\n      dispatch({ type: \"setSearchState\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const setSearchResult = useCallback(\r\n    data => {\r\n      console.log(data);\r\n      dispatch({ type: \"setSearchResult\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [autoSearchData, setAutoSearch] = useState(\"\");\r\n\r\n  const [ytSearchQuery, setYtSearchQuery] = useState(null);\r\n\r\n  // toggle popper\r\n  const [isPopperOpen, setPopper] = useState(true);\r\n\r\n  console.log(\"search box re rendered\");\r\n\r\n  // get back the selected search data\r\n  const onSearchSelect = result => {\r\n    setSearchQuery(result);\r\n    setYtSearchQuery(result);\r\n    setSearchState(\"searching\");\r\n    history.push({ pathname: \"/search\", search: `?q=${result}` });\r\n  };\r\n\r\n  // when user hits enter then also fetch the data from yt api\r\n  const onSearchSubmit = e => {\r\n    e.preventDefault();\r\n    console.log(e.target.lastChild);\r\n    e.target.lastChild.lastChild.blur();\r\n    setSearchState(\"searching\");\r\n    setYtSearchQuery(searchQuery);\r\n    history.push({ pathname: \"/search\", search: `?q=${searchQuery}` });\r\n  };\r\n\r\n  // for controlled input change\r\n  const onChange = e => {\r\n    setSearchQuery(e.target.value);\r\n    getAutocomplete();\r\n  };\r\n\r\n  // get autocomplete data form api\r\n  const getAutocomplete = async () => {\r\n    const response = await suggestSearch.get(\"\", {\r\n      params: {\r\n        q: searchQuery\r\n      }\r\n    });\r\n    setAutoSearch(response.data[1]);\r\n  };\r\n\r\n  // get youtube search result from api\r\n  useEffect(() => {\r\n    const searchYt = async data => {\r\n      const res = await youtubeSearch.get(\"/search\", {\r\n        params: {\r\n          q: data,\r\n          maxResults: 15\r\n        }\r\n      });\r\n      setSearchResult(res.data.items);\r\n      setSearchState(\"completed\");\r\n    };\r\n    // only search if there is any value\r\n    if (ytSearchQuery && ytSearchQuery !== \"\") {\r\n      searchYt(ytSearchQuery);\r\n    }\r\n    // console.log(ytSearchQuery);\r\n  }, [ytSearchQuery, setSearchResult, setSearchState]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"search state\", searchState);\r\n  }, [searchState]);\r\n\r\n  useEffect(() => {\r\n    // Listen for changes to the current location.\r\n    const query = params.get(\"q\");\r\n    if (query) {\r\n      setYtSearchQuery(query);\r\n      setSearchQuery(query);\r\n      setSearchState(\"searching\");\r\n      console.log(\"changing query to\", query);\r\n    }\r\n\r\n    // const unlisten = history.listen(location => {\r\n    //   // setYtSearchQuery(params.get(\"q\"));\r\n    //   // we will se the q from params\r\n    //   // location is an object like window.location\r\n    //   const path = location.pathname;\r\n    //   // if (path.slice(1, 7) === \"search\" || path.slice(1, 5) === \"song\") {\r\n    //   //   setSearchState(\"searched\");\r\n    //   // } else {\r\n    //   //   setSearchState(\"home\");\r\n    //   // }\r\n    // });\r\n  }, [setSearchState, setYtSearchQuery]);\r\n\r\n  // show loading icon while we fetch the results from api\r\n\r\n  const popperResult = () => {\r\n    switch (searchState) {\r\n      case \"searching\":\r\n        return (\r\n          <Grid\r\n            style={{ height: \"100vh\" }}\r\n            container\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            <CircularProgress />\r\n          </Grid>\r\n        );\r\n      case \"clicked\":\r\n        return (\r\n          <AutoSearchResult\r\n            results={autoSearchData}\r\n            onSearchSelect={onSearchSelect}\r\n          />\r\n        );\r\n      case \"completed\":\r\n        setPopper(false);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    console.log(\"Function ran\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <IconButton\r\n        onClick={() => {\r\n          setSearchState(\"home\");\r\n          if (history.location.pathname === \"/search\") {\r\n            history.goBack();\r\n          }\r\n          // only go back if u have searched something\r\n        }}\r\n        color=\"inherit\"\r\n        aria-label=\"Menu\"\r\n      >\r\n        <ArrowBack />\r\n      </IconButton>\r\n      <form style={{ width: \"100%\" }} onSubmit={e => onSearchSubmit(e)}>\r\n        <InputBase\r\n          fullWidth\r\n          placeholder=\"Search...\"\r\n          autoFocus\r\n          style={{ color: \"#fff\", paddingLeft: \"16px\" }}\r\n          value={searchQuery}\r\n          onChange={onChange}\r\n          // on click we will show popper\r\n          onClick={() => {\r\n            setSearchState(\"clicked\");\r\n            setPopper(true);\r\n          }}\r\n        />\r\n      </form>\r\n\r\n      <Popper\r\n        className=\"searchPopper\"\r\n        open={isPopperOpen}\r\n        anchorEl={document.getElementById(\"navbar\")}\r\n        popperOptions={{\r\n          modifiers: {\r\n            preventOverflow: {\r\n              padding: 0\r\n            }\r\n          }\r\n        }}\r\n        placement=\"bottom\"\r\n      >\r\n        {popperResult}\r\n      </Popper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(SearchBox);\r\n","import React, { useContext } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { GlobalContext } from \"../GlobalState\";\r\n\r\nimport SearchBox from \"./SearchBox\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  withStyles,\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  IconButton,\r\n  Slide\r\n} from \"@material-ui/core/\";\r\n\r\nimport useScrollTrigger from \"@material-ui/core/useScrollTrigger\";\r\n\r\nimport { Menu, Search } from \"@material-ui/icons/\";\r\n\r\nconst styles = {\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  title: {\r\n    textAlign: \"center\",\r\n    width: \"calc(100% - 96px)\"\r\n  },\r\n  input: {\r\n    color: \"#fff\"\r\n  }\r\n};\r\n\r\nfunction HideOnScroll(props) {\r\n  const { children } = props;\r\n  const trigger = useScrollTrigger();\r\n\r\n  return (\r\n    <Slide appear={false} direction=\"down\" in={!trigger}>\r\n      {children}\r\n    </Slide>\r\n  );\r\n}\r\n\r\nfunction SimpleAppBar(props) {\r\n  const [{ searchState }, dispatch] = useContext(GlobalContext);\r\n\r\n  const setMenuOpen = data => {\r\n    console.log(data);\r\n    dispatch({ type: \"setMenuOpen\", snippet: data });\r\n  };\r\n  const setSearchState = React.useCallback(\r\n    data => {\r\n      console.log(data);\r\n      dispatch({ type: \"setSearchState\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    // if the page is on search we will change the search state\r\n    const changeAppBar = () => {\r\n      const path = props.history.location.pathname;\r\n      if (path === \"/search\") {\r\n        setSearchState(\"searching\");\r\n      } else {\r\n        setSearchState(\"home\");\r\n      }\r\n      console.log(\"history change detected in app bar\");\r\n    };\r\n\r\n    changeAppBar();\r\n    const unlisten = props.history.listen(location => {\r\n      changeAppBar();\r\n    });\r\n  }, [setSearchState, props.history]);\r\n\r\n  const toggleSearch = () => {\r\n    if (searchState === \"home\") {\r\n      return (\r\n        <>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"Menu\"\r\n            onClick={() => setMenuOpen(true)}\r\n          >\r\n            <Menu />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" color=\"inherit\" style={styles.title}>\r\n            Dark\r\n          </Typography>\r\n          <IconButton\r\n            onClick={() => setSearchState(\"clicked\")}\r\n            color=\"inherit\"\r\n            aria-label=\"Search\"\r\n          >\r\n            <Search />\r\n          </IconButton>\r\n        </>\r\n      );\r\n    } else {\r\n      return <SearchBox />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <HideOnScroll {...props}>\r\n        <AppBar id=\"navbar\" position=\"sticky\">\r\n          <Toolbar>{toggleSearch()}</Toolbar>\r\n        </AppBar>\r\n      </HideOnScroll>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withRouter(SimpleAppBar);\r\n","import React, { useState } from \"react\";\r\nimport { IconButton, CircularProgress } from \"@material-ui/core/\";\r\nimport {\r\n  PauseCircleFilled,\r\n  PlayCircleFilled,\r\n  Pause,\r\n  PlayArrow\r\n} from \"@material-ui/icons/\";\r\n\r\nconst PlayPauseButton = ({ player, audioState, minimized }) => {\r\n  const togglePlayPause = e => {\r\n    if (audioState === \"playing\") {\r\n      player.pause();\r\n    } else if (audioState === \"paused\") {\r\n      player.play();\r\n    }\r\n    e.stopPropagation();\r\n  };\r\n\r\n  const showPlayPause = () => {\r\n    if (audioState === \"playing\") {\r\n      // if the state will be minimized then we will return the nromal pause button\r\n      if (minimized) {\r\n        return <Pause style={{ fontSize: \"3em\", opacity: \".8\" }} />;\r\n      }\r\n      return <PauseCircleFilled style={{ fontSize: \"4em\" }} color=\"primary\" />;\r\n    } else if (audioState === \"paused\" || audioState === \"loaded\") {\r\n      if (minimized) {\r\n        return <PlayArrow style={{ fontSize: \"3em\", opacity: \".8\" }} />;\r\n      }\r\n      return <PlayCircleFilled style={{ fontSize: \"4em\" }} color=\"primary\" />;\r\n    } else if (audioState === \"loading\") {\r\n      return <CircularProgress />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <IconButton\r\n      size=\"small\"\r\n      color={minimized ? \"secondary\" : \"primary\"}\r\n      aria-label=\"Pause\"\r\n      onClick={togglePlayPause}\r\n      disableFocusRipple={true}\r\n      disableRipple={true}\r\n    >\r\n      {showPlayPause()}\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default PlayPauseButton;\r\n","import React from \"react\";\r\nimport { IconButton } from \"@material-ui/core/\";\r\nimport { SkipNext } from \"@material-ui/icons/\";\r\n\r\nconst PlayPauseButton = ({onPlayNext}) => {\r\n  return (\r\n    <IconButton color=\"primary\" aria-label=\"Next\" onClick={onPlayNext}>\r\n      <SkipNext fontSize=\"large\"/>\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default PlayPauseButton","import React from \"react\";\r\nimport { IconButton } from \"@material-ui/core/\";\r\nimport { SkipPrevious } from \"@material-ui/icons/\";\r\n\r\nconst PlayPauseButton = ({playPrevious}) => {\r\n  return (\r\n    <IconButton color=\"primary\" aria-label=\"Pause\" onClick={playPrevious}>\r\n      <SkipPrevious fontSize=\"large\"/>\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default PlayPauseButton","import React, { useState, useCallback } from \"react\";\r\nimport { useSwipeable } from \"react-swipeable\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Avatar, Grid, Typography } from \"@material-ui/core\";\r\nimport { FavoriteTwoTone } from \"@material-ui/icons\";\r\nimport circleSvg from \"../../images/dottedCircle.svg\";\r\nimport { rateSong } from \"../../external/saveSong\";\r\n\r\nconst dblTouchTapMaxDelay = 300;\r\nlet latestTouchTap = {\r\n  time: 0,\r\n  target: null\r\n};\r\n\r\nfunction isDblTouchTap(event) {\r\n  const touchTap = {\r\n    time: new Date().getTime(),\r\n    target: event.currentTarget\r\n  };\r\n  const isFastDblTouchTap =\r\n    touchTap.target === latestTouchTap.target &&\r\n    touchTap.time - latestTouchTap.time < dblTouchTapMaxDelay;\r\n  latestTouchTap = touchTap;\r\n  return isFastDblTouchTap;\r\n}\r\n\r\nlet initialPosition;\r\n\r\nconst MusicArt = ({ data, rating, audioEl }) => {\r\n  const swipeUpHandler = useSwipeable({\r\n    onSwipedUp: e => {\r\n      dislikeSong();\r\n    }\r\n  });\r\n\r\n  const [heartStyle, setHeartStyle] = useState({\r\n    transform: \"scale(0)\"\r\n  });\r\n  // const [artContainerStyle, setArtContainerStyle] = useState({\r\n  //   background: `url(${circleSvg}) no-repeat`,\r\n  //   padding: \"18px\",\r\n  //   position: \"relative\",\r\n  //   // transition: \"transform 100ms\",\r\n  //   // transform: \"translateY(0)\"\r\n  // });\r\n\r\n  const artContainerStyle = {\r\n    background: `url(${circleSvg}) no-repeat`,\r\n    padding: \"18px\",\r\n    position: \"relative\",\r\n    zIndex: \"1\"\r\n  };\r\n\r\n  // if its less than 400 width we will use default hq thumbnail\r\n  const checkImg = e => {\r\n    if (e.target.naturalWidth < 400) {\r\n      e.target.src = data.sdThumbnail;\r\n    }\r\n  };\r\n\r\n  // double tap to like the song\r\n  const likeSong = useCallback(() => {\r\n    // run the like function to like provided with song id and rating\r\n    setHeartStyle({ transform: \"scale(0)\" });\r\n    setTimeout(() => {\r\n      setHeartStyle({ transform: \"scale(1)\" });\r\n    }, 300);\r\n  }, [setHeartStyle]);\r\n\r\n  const dislikeSong = useCallback(() => {\r\n    rateSong(data.id, \"disliked\");\r\n    setHeartStyle({ transform: \"scale(0)\" });\r\n    setTimeout(() => {\r\n      setHeartStyle({ transform: \"scale(1)\", color: \"#2d3436\" });\r\n    }, 300);\r\n  }, [setHeartStyle, data.id]);\r\n\r\n  React.useEffect(() => {\r\n    if (rating === \"liked\") {\r\n      likeSong();\r\n    } else if (rating === \"disliked\") {\r\n      dislikeSong();\r\n    } else {\r\n      setHeartStyle({ transform: \"scale(0)\" });\r\n    }\r\n  }, [rating, likeSong, dislikeSong, setHeartStyle]);\r\n\r\n  // if we find the channel name is before the song title we will remove it\r\n  //using the regex\r\n  const shortTitle = data => {\r\n    // this regex is to remove channel name from song title\r\n    const re = new RegExp(data.channelTitle + \" - | : \", \"g\");\r\n\r\n    return data.title.replace(re, \"\");\r\n  };\r\n\r\n  const getThumbnail = () => {\r\n    // if the thumbnail is downloaded then get it from database or else use the url to fetch\r\n    if (data.thumbnail) {\r\n      return window.URL.createObjectURL(data.thumbnail);\r\n    } else {\r\n      return data.maxThumbnail;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      direction=\"column\"\r\n      justify=\"center\"\r\n      alignItems=\"center\"\r\n      style={{ marginTop: \"40px\" }}\r\n      onClick={e => {\r\n        if (isDblTouchTap(e)) {\r\n          likeSong();\r\n          rateSong(data.id, \"liked\", audioEl);\r\n        }\r\n        // call the like song function on double tap\r\n      }}\r\n    >\r\n      <motion.div\r\n        className=\"box\"\r\n        drag\r\n        dragElastic={true}\r\n        dragTransition={{ bounceStiffness: 100, bounceDamping: 10 }}\r\n        dragConstraints={{ left: 0, right: 0, top: 0, bottom: 0 }}\r\n        style={artContainerStyle}\r\n        {...swipeUpHandler}\r\n      >\r\n        <FavoriteTwoTone className={\"songHeart left\"} style={heartStyle} />\r\n        <FavoriteTwoTone className={\"songHeart right\"} style={heartStyle} />\r\n        <Avatar\r\n          className=\"searchThumb\"\r\n          style={{\r\n            width: \"215px\",\r\n            height: \"215px\",\r\n            boxShadow: \"#0000008c 1px 3px 8px\"\r\n          }}\r\n          alt=\"video thumbnail\"\r\n          src={getThumbnail()}\r\n          imgProps={{ onLoad: e => checkImg(e) }}\r\n        />\r\n      </motion.div>\r\n      <br />\r\n      <Typography color=\"primary\" variant=\"h5\" className=\"musicArtTitle\" align=\"center\">\r\n        {shortTitle(data)}\r\n      </Typography>\r\n      <Typography color=\"primary\" variant=\"subtitle1\">\r\n        {data.channelTitle}\r\n      </Typography>\r\n      <br />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default MusicArt;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport {\r\n  Dialog,\r\n  Switch,\r\n  DialogActions,\r\n  Button,\r\n  FormControlLabel,\r\n  FormControl,\r\n  DialogTitle,\r\n  Typography\r\n} from \"@material-ui/core\";\r\nimport { TimerOff, Timer } from \"@material-ui/icons\";\r\nimport { CircleSlider } from \"react-circle-slider\";\r\n\r\nimport \"./SleepTimerStyle.css\";\r\n\r\nconst setSleepTimeToLocalStorage = (time, alwaysOn) => {\r\n  const sleepTimerSettings = JSON.stringify({ time: time, alwaysOn: alwaysOn });\r\n\r\n  localStorage.setItem(\"sleepTimerSettings\", sleepTimerSettings);\r\n};\r\n\r\nconst getSleepTimeFromLocalStoarge = () => {\r\n  const sleepTimerSettings = localStorage.getItem(\"sleepTimerSettings\");\r\n  return JSON.parse(sleepTimerSettings);\r\n};\r\n\r\nconst removeSleepTimer = () => {\r\n  localStorage.removeItem(\"sleepTimerSettings\");\r\n};\r\n\r\nlet timerTimeout;\r\n\r\nfunction SleepTimer({ player }) {\r\n  const [sliderValue, changeSliderValue] = useState(20);\r\n  const [open, setOpen] = useState(false);\r\n  const [checkbox, setCheckbox] = useState(false);\r\n  const [isTimerSet, setIsTimerSet] = useState(false);\r\n\r\n  const setTimer = time => {\r\n    console.log(\"timer has been set with time\", time);\r\n    clearTimeout(timerTimeout);\r\n    setIsTimerSet(true);\r\n    timerTimeout = setTimeout(() => {\r\n      player.pause(); //pause after music finished\r\n    }, time * 60 * 1000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const sleepTimerObj = getSleepTimeFromLocalStoarge();\r\n    if (sleepTimerObj) {\r\n      changeSliderValue(sleepTimerObj.time);\r\n      setCheckbox(sleepTimerObj.alwaysOn);\r\n    }\r\n\r\n    //only set timer when there is no timer\r\n    if (sleepTimerObj && sleepTimerObj.alwaysOn) {\r\n      console.log(sleepTimerObj);\r\n      setTimer(sleepTimerObj.time);\r\n    }\r\n    console.log(sleepTimerObj);\r\n  }, []);\r\n\r\n  const handleSetTimer = () => {\r\n    setSleepTimeToLocalStorage(sliderValue, checkbox);\r\n    //   then also set a set timeout\r\n    // if there is any timer already clear it\r\n    setOpen(false);\r\n    setTimer(sliderValue);\r\n  };\r\n\r\n  const handleRemove = () => {\r\n    removeSleepTimer();\r\n    setIsTimerSet(false);\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isTimerSet ? (\r\n        <Timer color=\"primary\" onClick={() => setOpen(true)} />\r\n      ) : (\r\n        <TimerOff color=\"primary\" onClick={() => setOpen(true)} />\r\n      )}\r\n      <Dialog\r\n        style={{ zIndex: 1400 }}\r\n        open={open}\r\n        onClose={() => setOpen(false)}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <Typography\r\n          variant=\"h5\"\r\n          color=\"primary\"\r\n          align=\"center\"\r\n          style={{ marginTop: \"10px\" }}\r\n        >\r\n          Pause Music After\r\n        </Typography>\r\n        <div className=\"container\">\r\n          <div className=\"textContainer\">\r\n            {sliderValue}\r\n            <div className=\"minute\">MINUTES</div>\r\n          </div>\r\n          <CircleSlider\r\n            value={sliderValue}\r\n            stepSize={5}\r\n            onChange={value => changeSliderValue(value)}\r\n            size={300}\r\n            max={120}\r\n            gradientColorFrom=\"#ec008c\"\r\n            gradientColorTo=\"#fc6767\"\r\n            knobRadius={25}\r\n            progressWidth={30}\r\n            circleWidth={30}\r\n          />\r\n        </div>\r\n\r\n        <DialogActions>\r\n          <FormControlLabel\r\n            value=\"Always On\"\r\n            control={\r\n              <Switch\r\n                checked={checkbox}\r\n                onChange={e => setCheckbox(e.target.checked)}\r\n                value=\"checked always on\"\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"ALWAYS\"\r\n            labelPlacement=\"end\"\r\n            style={{ color: \"#e91e63\" }}\r\n          />\r\n          <Button color=\"primary\" onClick={handleRemove}>\r\n            Remove\r\n          </Button>\r\n\r\n          <Button color=\"primary\" onClick={handleSetTimer}>\r\n            Set\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SleepTimer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { withStyles, Typography, Grid, Slider } from \"@material-ui/core/\";\r\nimport { PauseCircleFilled } from \"@material-ui/icons/\";\r\n\r\nconst PrettoSlider = withStyles({\r\n  root: {\r\n    height: 6\r\n  },\r\n  thumb: {\r\n    height: 16,\r\n    width: 16,\r\n    marginTop: -5.3,\r\n    marginLeft: -8,\r\n    \"&::before\": {\r\n      content: \"''\",\r\n      height: \"inherit\",\r\n      width: \"inherit\",\r\n      position: \"absolute\",\r\n      transform: \"scale(1.6)\",\r\n      borderRadius: \"50px\",\r\n      border: \"1px solid\"\r\n    }\r\n  },\r\n  track: {\r\n    height: 6,\r\n    borderRadius: 4\r\n  },\r\n  rail: {\r\n    height: 6,\r\n    borderRadius: 4\r\n  }\r\n})(Slider);\r\n\r\nconst MiniSlider = withStyles({\r\n  root: {\r\n    height: 4,\r\n    position: \"relative\",\r\n    bottom: \"16px\",\r\n    color: \"#FFFDFD\",\r\n    padding: 0\r\n  },\r\n  thumb: {\r\n    display: \"none\"\r\n  },\r\n  track: {\r\n    height: 4,\r\n    borderRadius: 0\r\n  },\r\n  rail: {\r\n    height: 4,\r\n    borderRadius: 0\r\n  }\r\n})(Slider);\r\n\r\nconst formatTime = secs => {\r\n  let minutes = Math.floor(secs / 60);\r\n  let seconds = Math.ceil(secs - minutes * 60);\r\n\r\n  if (seconds < 10) seconds = `0${seconds}`;\r\n\r\n  return `${minutes}:${seconds}`;\r\n};\r\n\r\nconst TimelineController = ({ audioState, player, minimized }) => {\r\n  const [value, setValue] = useState(50);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (player) {\r\n      setCurrentTime(player.currentTime);\r\n    }\r\n    // we will update the time of player every 800ms\r\n    let setTimeInterval;\r\n    if (audioState === \"playing\") {\r\n      setTimeInterval = setInterval(() => {\r\n        setCurrentTime(player.currentTime);\r\n        console.log()\r\n      }, 800);\r\n    } else {\r\n      clearInterval(setTimeInterval);\r\n    }\r\n    return () => clearInterval(setTimeInterval);\r\n  }, [audioState, player]);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    player.currentTime = newValue;\r\n    setCurrentTime(newValue);\r\n  };\r\n\r\n  const showDuration = () => {\r\n    if (player) {\r\n      if (player.duration) {\r\n        return formatTime(player.duration);\r\n      } else {\r\n        return \"0:00\";\r\n      }\r\n    } else {\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  // condition rendering\r\n  if (minimized) {\r\n    return (\r\n      <MiniSlider value={currentTime} max={player ? player.duration : 0} />\r\n    );\r\n  } else {\r\n    return (\r\n      <div style={{ margin: \"0 auto\", width: \"90%\" }}>\r\n        <Grid container direction=\"row\" justify=\"space-between\">\r\n          <Typography variant=\"body1\" color=\"primary\">\r\n            {formatTime(currentTime)}\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"primary\">\r\n            {showDuration()}\r\n          </Typography>\r\n        </Grid>\r\n\r\n        <PrettoSlider\r\n          value={currentTime}\r\n          onChange={handleChange}\r\n          max={player ? player.duration : 0}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default TimelineController;\r\n","import React, { useState } from \"react\";\r\nimport { IconButton, Grid, Slider } from \"@material-ui/core/\";\r\nimport { VolumeUp } from \"@material-ui/icons/\";\r\n\r\nconst VolumeController = ({ player, setPlayerState }) => {\r\n  const [volume, setVolume] = useState(100);\r\n\r\n  const volumeChange = (e, newVal) => {\r\n    setVolume(newVal);\r\n    player.volume = newVal / 100;\r\n    //\r\n  };\r\n\r\n\r\n  return (\r\n\r\n      <Grid container spacing={1} style={{ maxWidth: \"200px\" }}>\r\n        <Grid item>\r\n          <VolumeUp color=\"primary\" />\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <Slider value={volume} onChange={volumeChange} />\r\n        </Grid>\r\n      </Grid>\r\n  );\r\n};\r\n\r\nexport default VolumeController;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nimport {\r\n  List,\r\n  ListItem,\r\n  Typography,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Grid,\r\n  Divider,\r\n  LinearProgress\r\n} from \"@material-ui/core\";\r\n\r\nimport {\r\n  MusicVideo,\r\n  LibraryMusic,\r\n  Shuffle,\r\n  Repeat,\r\n  KeyboardArrowUp,\r\n  KeyboardArrowDown,\r\n  RepeatOne\r\n} from \"@material-ui/icons\";\r\n\r\nimport { GlobalContext } from \"./GlobalState\";\r\n\r\nlet renderResult;\r\n\r\n// written by @bushblade\r\nconst shuffle = arry =>\r\n  arry.reduce(\r\n    (acc, _, i) => {\r\n      const rnd = Math.floor(Math.random() * acc.length),\r\n        temp = acc[i];\r\n      acc[i] = acc[rnd];\r\n      acc[rnd] = temp;\r\n      return acc;\r\n    },\r\n    [...arry]\r\n  );\r\n\r\nconst RelatedVideos = ({\r\n  toggleMaxPlaylist,\r\n  setPlaylist,\r\n  playerState,\r\n  relatedVideos,\r\n  setRelatedVideos,\r\n  setIsRepeatOn,\r\n  isRepeatOn\r\n}) => {\r\n  const [{}, dispatch] = useContext(GlobalContext);\r\n  const setCurrentVideoSnippet = data => {\r\n    dispatch({ type: \"setCurrentVideoSnippet\", snippet: data });\r\n  };\r\n  const handleShuffleClick = () => {\r\n    setRelatedVideos(shuffle(relatedVideos));\r\n  };\r\n\r\n  const spring = {\r\n    type: \"spring\",\r\n    damping: 20,\r\n    stiffness: 300\r\n  };\r\n  const handleClick = video => {\r\n    // set all the info of current clicked video in this object\r\n    setCurrentVideoSnippet({\r\n      id: video.id.videoId,\r\n      title: video.snippet.title,\r\n      channelTitle: video.snippet.channelTitle,\r\n      maxThumbnail: `https://img.youtube.com/vi/${video.id.videoId}/maxresdefault.jpg`,\r\n      sdThumbnail: `https://img.youtube.com/vi/${video.id.videoId}/sddefault.jpg`\r\n      // this is the url of the max resolution of thumbnail\r\n    });\r\n    setPlaylist();\r\n  };\r\n\r\n  if (relatedVideos.length > 1) {\r\n    renderResult = relatedVideos.map(song => {\r\n      return (\r\n        <motion.li key={song.id.videoId} positionTransition={spring}>\r\n          <ListItem\r\n            // key={song.id.videoId}\r\n            button\r\n            onClick={() => handleClick(song)}\r\n            // component={Link}\r\n            // replace\r\n            // to={{ pathname: \"/play\", search: `?id=${song.id.videoId}` }}\r\n          >\r\n            <ListItemIcon>\r\n              <MusicVideo style={{ color: \"#fff\" }} />\r\n            </ListItemIcon>\r\n            <ListItemText\r\n              primary={song.snippet.title.slice(0, 40)}\r\n              secondary={song.snippet.channelTitle.slice(0, 40)}\r\n            />\r\n          </ListItem>\r\n        </motion.li>\r\n      );\r\n    });\r\n  } else {\r\n    return <LinearProgress />;\r\n  }\r\n\r\n  const returnPlaylistExpandBtn = () => {\r\n    if (playerState === \"playlist\") {\r\n      return <KeyboardArrowDown onClick={toggleMaxPlaylist} />;\r\n    } else {\r\n      return <KeyboardArrowUp onClick={toggleMaxPlaylist} />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"RelatedVideoContainer\">\r\n      <Grid\r\n        className={\"playlistHeader\"}\r\n        container\r\n        direction=\"row\"\r\n        alignItems=\"center\"\r\n        justify=\"space-between\"\r\n      >\r\n        <LibraryMusic />\r\n        <Typography variant=\"h6\">Coming Next</Typography>\r\n        <Shuffle onClick={handleShuffleClick} />\r\n        {/* this will show the repeat button and repeat the song */}\r\n        {isRepeatOn ? (\r\n          <RepeatOne onClick={setIsRepeatOn} />\r\n        ) : (\r\n          <Repeat onClick={setIsRepeatOn} />\r\n        )}\r\n        {returnPlaylistExpandBtn()}\r\n      </Grid>\r\n      <List dense={true}>{renderResult}</List>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RelatedVideos;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport {\r\n  IconButton,\r\n  Grid,\r\n  Slider,\r\n  LinearProgress,\r\n  makeStyles,\r\n  withStyles\r\n} from \"@material-ui/core/\";\r\n\r\nimport {\r\n  ExpandMore,\r\n  GetApp,\r\n  Reply,\r\n  DoneOutline,\r\n  Done,\r\n  AlarmOff\r\n} from \"@material-ui/icons/\";\r\nimport VolumeController from \"./VolumeController\";\r\nimport { useSongMethods } from \"../RenderDatabase\";\r\nimport { downloadSong } from \"../../external/saveSong\";\r\nimport SleepTimer from './SleepTimer'\r\nimport { GlobalContext } from \"../GlobalState\";\r\n\r\nconst DownloadLoader = withStyles({\r\n  root: {\r\n    height: 2,\r\n    width: \"70%\",\r\n    margin: \"0 auto\",\r\n    transform: \"translateY(-10px)\"\r\n  }\r\n})(LinearProgress);\r\n\r\nconst TopBar = ({ song, player, setPlayerState, history }) => {\r\n  const { snackbarMsg } = useContext(GlobalContext);\r\n  const [isSongDownloaded, setSongDownloaded] = useState(false);\r\n  const [isSongDownloading, setSongDownloading] = useState(false);\r\n\r\n  const {\r\n    handleDownload,\r\n    handleRemoveSong,\r\n    deleteDialogComponent\r\n  } = useSongMethods();\r\n\r\n  useEffect(() => {\r\n    if (snackbarMsg === \"Song Downloaded\" || song.audio) {\r\n      setSongDownloaded(true);\r\n      setSongDownloading(false);\r\n    }\r\n  }, [snackbarMsg]);\r\n  // if the song is downloaded we will change\r\n\r\n  // share prompt using chrome web api\r\n  const shareSong = () => {\r\n    if (navigator.share) {\r\n      navigator\r\n        .share({\r\n          title: \"Share This Song\",\r\n          text: `Hey Listen to ${song.title} on Ylight Music`,\r\n          url: window.location.href //get the current window url\r\n        })\r\n        .then(() => console.log(\"Successful share\"))\r\n        .catch(error => console.log(\"Error sharing\", error));\r\n    }\r\n  };\r\n\r\n  const minimizePlayer = () => {\r\n    history.goBack()\r\n    setPlayerState(\"minimized\");\r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      justify=\"space-between\"\r\n      direction=\"row\"\r\n      style={{\r\n        padding: \" 0 10px\",\r\n        marginTop: \"10px\",\r\n        position: \"absolute\",\r\n        top: \"0\"\r\n      }}\r\n    >\r\n      <VolumeController player={player} />\r\n      {deleteDialogComponent}\r\n      <Reply\r\n        style={{ transform: \" scaleX(-1) translateY(-2px)\" }}\r\n        onClick={shareSong}\r\n        color=\"primary\"\r\n      />\r\n      \r\n      <SleepTimer player={player}/>\r\n\r\n      <div>\r\n        {isSongDownloaded ? (\r\n          <DoneOutline\r\n            color=\"primary\"\r\n            onClick={() => handleRemoveSong(song.id)}\r\n          /> //song will be removed\r\n        ) : (\r\n          <>\r\n            <GetApp\r\n              color=\"primary\"\r\n              onClick={() => {\r\n                handleDownload(song.id);\r\n                setSongDownloading(true);\r\n              }}\r\n            />\r\n          </>\r\n        )}\r\n        {isSongDownloading ? <DownloadLoader color=\"primary\" /> : null}\r\n        {/* if the song is downloading we will show loading */}\r\n      </div>\r\n\r\n      <ExpandMore\r\n        onClick={minimizePlayer}\r\n        color=\"primary\"\r\n        fontSize=\"large\"\r\n        style={{ transform: \"translateY(-7px)\" }}\r\n      />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default TopBar;\r\n","import React from \"react\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { SkipNext, Close } from \"@material-ui/icons\";\r\nimport PlayPauseButton from \"./PlayPauseButton\";\r\nimport \"./MiniMusicStyle.css\";\r\n\r\nconst styles = {};\r\n\r\nconst MiniMuiscArt = ({ playPause, data, playNext, emptyPlayer }) => {\r\n  const getThumbnail = () => {\r\n    // if the thumbnail is downloaded then get it from database or else use the url to fetch\r\n    if (data.thumbnail) {\r\n      return window.URL.createObjectURL(data.thumbnail);\r\n    } else {\r\n      return data.sdThumbnail;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={\"mainContainer\"}>\r\n      <div className={\"overflow-hidden\"}>\r\n        <div className=\"details\">\r\n          <Typography variant=\"body1\">{data.title}</Typography>\r\n          <Typography variant=\"body2\">{data.channelTitle}</Typography>\r\n        </div>\r\n        <div className=\"buttons\">\r\n          <SkipNext onClick={playNext} />\r\n          <Close onClick={emptyPlayer} />\r\n        </div>\r\n        <div className={\"miniArtContainer\"}>\r\n          <div className={\"mainArt\"}>\r\n            <img\r\n              className={\"miniArtImg\"}\r\n              src={getThumbnail()}\r\n              alt=\"music art\"\r\n            />\r\n            <PlayPauseButton\r\n              player={playPause.player}\r\n              minimized={playPause.minimized}\r\n              audioState={playPause.audioState}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MiniMuiscArt;\r\n","import axios from \"axios\";\r\n\r\nconst country_code = localStorage.getItem(\"country_code\");\r\n\r\n// const key = \"02924c9a5a777f4d4854a45a326432c6\";\r\n\r\nconst GeoAPI = \"https://ipapi.co/json/\";\r\n\r\nconst fetchCountry = async () => {\r\n  const res = await axios.get(GeoAPI, { mode: \"no-cors\" });\r\n  //   set the current country code in local stoarge\r\n  localStorage.setItem(\"country_code\", res.data.country);\r\n};\r\n\r\nif (!country_code) {\r\n  // if country is not set then only set it\r\n  fetchCountry();\r\n}\r\n","import React, { useEffect, useContext, useState, useRef } from \"react\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { useSwipeable } from \"react-swipeable\";\r\nimport PlayPauseButton from \"./PlayPauseButton\";\r\nimport NextButton from \"./NextButton\";\r\nimport PreviousButton from \"./PreviousButton\";\r\nimport MusicArt from \"./MusicArt\";\r\nimport TimelineController from \"./TimelineController\";\r\nimport TopBar from \"./TopBar\";\r\nimport MiniMusicArt from \"./MiniMusicArt\";\r\nimport RelatedVideos from \"../RelatedVideos\";\r\nimport getAudioLink from \"../../apis/getAudioLink\";\r\nimport youtubeSearch from \"../../apis/youtubeSearch\";\r\nimport { updatePlayingSong } from \"../../external/saveSong\";\r\n\r\nimport \"../../external/saveCountry\";\r\n\r\nimport \"../../style.css\";\r\n\r\nimport { GlobalContext } from \"../GlobalState\";\r\n\r\n// window.onbeforeunload = function() {\r\n//   return 'You have unsaved changes!';\r\n// }\r\nlet relatedVideosVar;\r\n\r\nconst MainPlayer = ({ location, history }) => {\r\n  let params = new URLSearchParams(location.search);\r\n\r\n  const [{ currentVideoSnippet, themeSelectValue }, dispatch] = useContext(\r\n    GlobalContext\r\n  );\r\n\r\n  const setCurrentVideoSnippet = data => {\r\n    dispatch({ type: \"setCurrentVideoSnippet\", snippet: data });\r\n  };\r\n\r\n  const [relatedVideos, setRelatedVideos] = useState([]);\r\n  const [isItFromPlaylist, setIsItFromPlaylist] = useState(false);\r\n  //\r\n  const [audioState, setAudioState] = useState(null);\r\n  // there will be 4 states\r\n  // loading, loaded, playing, paused\r\n\r\n  const [playerState, setPlayerState] = useState(null);\r\n  // there will be 3 states\r\n  // maximized, minimized, playlist\r\n\r\n  const [minimized, setMinimized] = useState(true);\r\n  const [isRepeatOn, setIsRepeatOn] = useState(false);\r\n  const [rating, setRating] = useState(\"none\");\r\n  const [isNextFromMini, setIsNextFromMini] = useState(false);\r\n  const [audioURL, setAudioURL] = useState(null);\r\n  const body = document.querySelector(\"body\");\r\n\r\n  const audioPlayer = useRef();\r\n  const player = audioPlayer.current;\r\n  const setupMediaSessions = () => {\r\n    if (\"mediaSession\" in navigator) {\r\n      console.log(\"navigator setupped\");\r\n\r\n      navigator.mediaSession.metadata = new window.MediaMetadata({\r\n        title: currentVideoSnippet.title,\r\n        artist: currentVideoSnippet.channelTitle,\r\n        artwork: [\r\n          {\r\n            src: currentVideoSnippet.sdThumbnail,\r\n            sizes: \"512x512\",\r\n            type: \"image/png\"\r\n          }\r\n        ]\r\n      });\r\n      navigator.mediaSession.setActionHandler(\"play\", () => {\r\n        /* Code excerpted. */\r\n        playAudio();\r\n      });\r\n      navigator.mediaSession.setActionHandler(\"pause\", () => {\r\n        /* Code excerpted. */\r\n        audioPlayer.current.pause();\r\n      });\r\n      navigator.mediaSession.setActionHandler(\"previoustrack\", () => {\r\n        playPrevious();\r\n      });\r\n      navigator.mediaSession.setActionHandler(\"nexttrack\", () => {\r\n        playNext();\r\n      });\r\n    }\r\n  };\r\n\r\n  const playAudio = () => {\r\n    audioPlayer.current\r\n      .play()\r\n      .then(_ => {\r\n        // Automatic playback started!\r\n        // Show playing UI.\r\n        console.log(\"audio played auto\");\r\n        setupMediaSessions();\r\n      })\r\n      .catch(error => {\r\n        // Auto-play was prevented\r\n        // Show paused UI.\r\n        console.log(\"playback prevented\");\r\n        setAudioState(\"paused\");\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"state changed triggedred\");\r\n    const getAudio = async data => {\r\n      // audioPlayer.current.src = \"\";\r\n      // maximize the player every time id changes\r\n      // only if playlist is not open\r\n      if (playerState !== \"playlist\" && !isNextFromMini) {\r\n        setPlayerState(\"maximized\");\r\n        //\r\n        console.log(\"maximizing here yar and state is\", playerState);\r\n      }\r\n\r\n      setTimeout(() => {\r\n        setIsNextFromMini(false);\r\n        // change it back to false\r\n      }, 200);\r\n\r\n      setAudioState(\"loading\");\r\n      const res = await getAudioLink.get(\"/song\", {\r\n        params: { id: data }\r\n      });\r\n\r\n      // set the audio data\r\n      const proxyURL = \"https://server.ylight.xyz/proxy/\";\r\n      audioPlayer.current.src = res.data;\r\n      playAudio();\r\n\r\n      // var audioContext = new AudioContext();\r\n\r\n      // var track = audioContext.createMediaElementSource(audioPlayer.current);\r\n      // track.connect(audioContext.destination);\r\n    };\r\n\r\n    if (currentVideoSnippet.audio) {\r\n      console.log(\"yes its downloaded we will play from local file\");\r\n      // maximize the player every time id changes\r\n\r\n      setPlayerState(\"maximized\");\r\n      setAudioState(\"loading\");\r\n      audioPlayer.current.src = window.URL.createObjectURL(\r\n        currentVideoSnippet.audio\r\n      );\r\n      playAudio();\r\n    } else if (currentVideoSnippet.id) {\r\n      getAudio(currentVideoSnippet.id);\r\n    }\r\n\r\n    if (currentVideoSnippet.id) {\r\n      const searchRelated = async () => {\r\n        const res = await youtubeSearch.get(\"/search\", {\r\n          params: {\r\n            relatedToVideoId: currentVideoSnippet.id,\r\n            maxResults: 10\r\n          }\r\n        });\r\n        setRelatedVideos(res.data.items);\r\n      };\r\n\r\n      // if its not from the mini next button then only change history\r\n      if (!isNextFromMini) {\r\n        // if the click is not from playlist then only we will search for realated video\r\n        if (!isItFromPlaylist) {\r\n          // console.log(\"searching for related vids\", relatedVideos);\r\n          // if player is in playlist mode we will just replace history else push it\r\n          if (location.pathname !== \"/play\") {\r\n            // prevent duplicating history\r\n            history.push(`/play?id=${currentVideoSnippet.id}`);\r\n          }\r\n\r\n          searchRelated();\r\n        } else {\r\n          history.replace(`/play?id=${currentVideoSnippet.id}`);\r\n          setIsItFromPlaylist(false);\r\n        }\r\n      }\r\n\r\n      console.log(currentVideoSnippet);\r\n    }\r\n\r\n    // set rating to none when we load new song\r\n    setRating(\"none\");\r\n  }, [currentVideoSnippet, setIsItFromPlaylist]);\r\n\r\n  // useEffect(() => {\r\n  //   console.log(\"from playlist\", isItFromPlaylist);\r\n  // }, [isItFromPlaylist]);\r\n\r\n  useEffect(() => {\r\n    relatedVideosVar = relatedVideos;\r\n    console.log(\"related\", relatedVideos);\r\n  }, [relatedVideos]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"isnext state\", isNextFromMini);\r\n  }, [isNextFromMini]);\r\n\r\n  const setAudioSrcAndPlay = async id => {\r\n    const res = await getAudioLink.get(\"/song\", {\r\n      params: { id: id }\r\n    });\r\n\r\n    // set the audio data\r\n    audioPlayer.current.src = res.data;\r\n    playAudio();\r\n  };\r\n\r\n  const setVideoSnippet = video => {\r\n    setCurrentVideoSnippet({\r\n      id: video.id.videoId,\r\n      title: video.snippet.title,\r\n      channelTitle: video.snippet.channelTitle,\r\n      maxThumbnail: `https://img.youtube.com/vi/${video.id.videoId}/hqdefault.jpg`,\r\n      sdThumbnail: `https://img.youtube.com/vi/${video.id.videoId}/sddefault.jpg`\r\n      // this is the url of the max resolution of thumbnail\r\n    });\r\n\r\n    // if window is minimized then only we will run this function\r\n    if (document.hidden) {\r\n      setAudioSrcAndPlay(video.id.videoId);\r\n    }\r\n  };\r\n\r\n  const playNext = () => {\r\n    // also set this is from playlist\r\n    setIsItFromPlaylist(true);\r\n    console.log(\"play next related videos\", relatedVideos);\r\n    // find the index of playing song in the playlist\r\n    const currentIndex = relatedVideosVar.findIndex(\r\n      video => video.id.videoId === currentVideoSnippet.id\r\n    );\r\n    console.log(\"the current index is\", currentIndex);\r\n\r\n    let video;\r\n    console.log(\"hey we will play next song\");\r\n    video = relatedVideosVar[currentIndex + 1]; //we will play the next song\r\n\r\n    setVideoSnippet(video);\r\n  };\r\n\r\n  const playPrevious = () => {\r\n    setIsItFromPlaylist(true);\r\n\r\n    // if the player time is greater than 5 sec we will move the time to 0\r\n    if (player.currentTime > 5) {\r\n      player.currentTime = 0;\r\n    } else {\r\n      const currentIndex = relatedVideosVar.findIndex(\r\n        video => video.id.videoId === currentVideoSnippet.id\r\n      );\r\n      let video;\r\n      if (currentIndex !== -1) {\r\n        video = relatedVideosVar[currentIndex - 1]; //we will play the next song\r\n        setVideoSnippet(video);\r\n      } else {\r\n        player.currentTime = 0;\r\n      }\r\n    }\r\n  };\r\n\r\n  let playerStyle = {\r\n    position: \"fixed\",\r\n    right: 0,\r\n    bottom: 0,\r\n    background: \"#fff\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    zIndex: 1400,\r\n    display: \"inline block\",\r\n    transition: \"all .3s ease\"\r\n  };\r\n\r\n  if (playerState === \"minimized\") {\r\n    playerStyle.transform = \"translateY(calc(100% - 106px))\";\r\n    playerStyle.zIndex = 0;\r\n    // if theme is not dark then only apply the pink style\r\n    if (themeSelectValue === \"Dark\") {\r\n      playerStyle.background = \"#333\";\r\n    } else {\r\n      playerStyle.background = \"#e91e63\";\r\n    }\r\n    // playerStyle.bottom = \"48px\";\r\n    // calculate the top height and we are subtracting 148px becz\r\n    // 48 is the value of menu bar and 100px is minimized height\r\n    // make body overflow scroll 😝\r\n    body.style.overflow = \"auto\";\r\n  }\r\n\r\n  if (playerState === \"maximized\") {\r\n    // make body overflow hidden 🙈\r\n    body.style.overflow = \"hidden\";\r\n    if (themeSelectValue === \"Dark\") {\r\n      playerStyle.background = \"#333\";\r\n    }\r\n  }\r\n\r\n  if (playerState === \"playlist\") {\r\n    playerStyle.transform = \"translateY(-418px)\";\r\n  }\r\n\r\n  const expandPlayer = () => {\r\n    if (playerState === \"minimized\") {\r\n      setPlayerState(\"maximized\");\r\n      setMinimized(true);\r\n      history.push({\r\n        pathname: \"/play\",\r\n        search: `?id=${currentVideoSnippet.id}`,\r\n        state: { modal: true }\r\n      });\r\n    }\r\n  };\r\n\r\n  const toggleMaxPlaylist = () => {\r\n    if (playerState === \"playlist\") {\r\n      setPlayerState(\"maximized\");\r\n    } else {\r\n      setPlayerState(\"playlist\");\r\n    }\r\n    console.log(\"Maximize the playlist\");\r\n  };\r\n\r\n  const updateSongDB = async () => {\r\n    const rating = await updatePlayingSong(currentVideoSnippet);\r\n    //  it will update song on db and return the rating\r\n    setRating(rating);\r\n    console.log(rating);\r\n  };\r\n\r\n  // this will be fired when song is ended\r\n  const songEnded = () => {\r\n    // if repeat is false we will play next else just set the time to 0\r\n    if (!isRepeatOn) {\r\n      playNext();\r\n    } else {\r\n      audioPlayer.current.currentTime = 0;\r\n      playAudio();\r\n    }\r\n  };\r\n\r\n  let initPosition = 0;\r\n  const containerRef = useRef(null);\r\n\r\n  const swipeHandlerMaximized = useSwipeable({\r\n    onSwipedDown: e => {\r\n      setPlayerState(\"minimized\");\r\n      history.goBack();\r\n    },\r\n    onSwiping: e => {\r\n      // console.log(e);\r\n      // getting the event for touches to extract the position\r\n      if (initPosition === 0) {\r\n        initPosition = e.event.changedTouches[0].screenY;\r\n      }\r\n\r\n      const screenY = e.event.changedTouches[0].screenY;\r\n      let positionDifference = Math.round(screenY - initPosition);\r\n      if (positionDifference < 1) {\r\n        positionDifference = 0;\r\n      }\r\n\r\n      const containerRefStyle = containerRef.current.style;\r\n      containerRefStyle.transform = `translateY(${positionDifference}px)`;\r\n      containerRefStyle.transition = \"none\";\r\n    },\r\n    onSwiped: e => {\r\n      initPosition = 0;\r\n      containerRef.current.style = \"\";\r\n      // we will make the initial position 0 again after user leaves the screen\r\n    },\r\n    onSwipedUp: e => {\r\n      if (playerState === \"minimized\") {\r\n        setPlayerState(\"maximized\");\r\n      }\r\n    },\r\n    onSwipedRight: e => {\r\n      const playTimeout = setTimeout(() => {\r\n        clearTimeout(playTimeout);\r\n        playNext();\r\n      }, 250);\r\n    },\r\n    onSwipedLeft: e => {\r\n      const playTimeout = setTimeout(() => {\r\n        clearTimeout(playTimeout);\r\n        playPrevious();\r\n      }, 250);\r\n    }\r\n  });\r\n\r\n  const swipeHandlerMin = useSwipeable({\r\n    onSwipedUp: e => {\r\n      expandPlayer();\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (location.pathname === \"/play\" && !currentVideoSnippet.id) {\r\n      console.log(\"history is in play fetching song\");\r\n\r\n      fetchAndSetCurrentVideoSnippet(params.get(\"id\")); // math will give the song id from\r\n    }\r\n    // we will only change if its push  otherwise while changing song from playlist changes the state\r\n\r\n    // Listen for changes to the current location.\r\n    const unlisten = history.listen(location => {\r\n      // location is an object like window.location\r\n      if (location.pathname === \"/play\") {\r\n        // we will only change if its push  otherwise while changing song from playlist changes the state\r\n        if (history.action !== \"REPLACE\") {\r\n          setPlayerState(\"maximized\");\r\n          console.log(\"set player state to maximized\");\r\n        }\r\n      } else {\r\n        setPlayerState(\"minimized\");\r\n        console.log(\"set player state to minimized\");\r\n      }\r\n      console.log(history);\r\n    });\r\n  }, [history]);\r\n\r\n  useEffect(() => {\r\n    console.log(playerState);\r\n  }, [playerState]);\r\n\r\n  const returnMinMaxClass = () => {\r\n    if (playerState === \"minimized\") {\r\n      return \"playerMinimized\";\r\n    } else if (playerState === \"playlist\") {\r\n      return \"playerPlaylist\";\r\n    }\r\n  };\r\n\r\n  const returnMaximizedPlayer = () => {\r\n    if (playerState === \"maximized\" || playerState === \"playlist\") {\r\n      return (\r\n        <>\r\n          <Grid\r\n            container\r\n            direction=\"column\"\r\n            className=\"main-player-inner\"\r\n            style={{\r\n              height: \" calc(100vh - 46px)\",\r\n              justifyContent: \"space-evenly\"\r\n            }}\r\n          >\r\n            <TopBar\r\n              song={currentVideoSnippet}\r\n              player={player}\r\n              setPlayerState={setPlayerState}\r\n              history={history}\r\n            />\r\n            <div {...swipeHandlerMaximized} className=\"musicArtContainer\">\r\n              <MusicArt\r\n                data={currentVideoSnippet}\r\n                rating={rating}\r\n                audioEl={player}\r\n              />\r\n            </div>\r\n            <TimelineController audioState={audioState} player={player} />\r\n\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justify=\"space-evenly\"\r\n              alignItems=\"center\"\r\n              style={{ maxWidth: \"290px\", height: \"80px\", margin: \"0 auto\" }}\r\n            >\r\n              <PreviousButton playPrevious={playPrevious} />\r\n              <PlayPauseButton player={player} audioState={audioState} />\r\n              <NextButton onPlayNext={playNext} />\r\n            </Grid>\r\n          </Grid>\r\n          <RelatedVideos\r\n            toggleMaxPlaylist={toggleMaxPlaylist}\r\n            setPlaylist={() => setIsItFromPlaylist(true)}\r\n            playerState={playerState}\r\n            relatedVideos={relatedVideos}\r\n            setRelatedVideos={data => setRelatedVideos(data)}\r\n            isRepeatOn={isRepeatOn}\r\n            // this will set the repeat setting\r\n            setIsRepeatOn={() => {\r\n              setIsRepeatOn(!isRepeatOn);\r\n            }}\r\n          />\r\n        </>\r\n      );\r\n    }\r\n  };\r\n\r\n  const returnMinimizedPlayer = () => {\r\n    if (playerState === \"minimized\" && currentVideoSnippet.id) {\r\n      return (\r\n        <div {...swipeHandlerMin}>\r\n          <MiniMusicArt\r\n            // we are making an object for props we will pass it to play pause button through mini music art\r\n            playPause={{\r\n              player: player,\r\n              minimized: minimized,\r\n              audioState: audioState\r\n            }}\r\n            playNext={e => {\r\n              e.stopPropagation();\r\n              setIsNextFromMini(true);\r\n              playNext();\r\n            }}\r\n            data={currentVideoSnippet}\r\n            emptyPlayer={e => {\r\n              e.stopPropagation();\r\n              setCurrentVideoSnippet([]);\r\n            }}\r\n          />\r\n          <TimelineController\r\n            audioState={audioState}\r\n            player={player}\r\n            minimized={minimized}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const fetchAndSetCurrentVideoSnippet = id => {\r\n    youtubeSearch\r\n      .get(\"videos\", {\r\n        params: {\r\n          id: id\r\n        }\r\n      })\r\n      .then(res => {\r\n        const item = res.data.items[0];\r\n        console.log(currentVideoSnippet);\r\n        setCurrentVideoSnippet({\r\n          id: item.id,\r\n          title: item.snippet.title,\r\n          channelTitle: item.snippet.channelTitle,\r\n          maxThumbnail: `https://img.youtube.com/vi/${item.id}/maxresdefault.jpg`,\r\n          sdThumbnail: `https://img.youtube.com/vi/${item.id}/sddefault.jpg`\r\n          // this is the url of the max resolution of thumbnail\r\n        });\r\n      });\r\n  };\r\n\r\n  if (!currentVideoSnippet.id) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      // drag=\"y\"\r\n      // dragConstraints={{ top: 0, bottom: 600 }}\r\n      ref={containerRef}\r\n      // style={playerStyle}\r\n      onClick={expandPlayer}\r\n      className={\"mediaPlayerContainer \" + returnMinMaxClass()}\r\n    >\r\n      {returnMaximizedPlayer()}\r\n      {returnMinimizedPlayer()}\r\n      <audio\r\n        // onTimeUpdate={timeUpdate}\r\n        onLoadStart={() => {\r\n          setAudioState(\"loading\");\r\n        }}\r\n        id=\"audio-element\"\r\n        onLoadedData={updateSongDB}\r\n        // crossOrigin=\"anonymous\"\r\n        onPlay={() => setAudioState(\"playing\")}\r\n        onPlaying={() => setAudioState(\"playing\")}\r\n        onPause={() => setAudioState(\"paused\")}\r\n        onEnded={songEnded}\r\n        autoPlay\r\n        ref={audioPlayer}\r\n        // type=\"audio/mp4\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainPlayer;\r\n","import React, {\r\n  useContext,\r\n  useState,\r\n  useEffect,\r\n  useCallback,\r\n  Suspense,\r\n  lazy\r\n} from \"react\";\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  withRouter,\r\n  Route,\r\n  Link,\r\n  Switch\r\n} from \"react-router-dom\";\r\n\r\nimport { AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  Tabs,\r\n  Tab,\r\n  withStyles,\r\n  Grid,\r\n  CircularProgress\r\n} from \"@material-ui/core\";\r\n\r\n\r\nimport {\r\n  Home,\r\n  Favorite,\r\n  VideoLibrary,\r\n  History,\r\n  GetApp\r\n} from \"@material-ui/icons/\";\r\n\r\nimport { GlobalContext } from \"./GlobalState\";\r\nimport {\r\n  getHistory,\r\n  getLikedSongs,\r\n  getDownloadedSongs,\r\n  removeDownloadingState,\r\n  db\r\n} from \"../external/saveSong\";\r\n\r\nimport SettingsPage from \"./sections/SettingsPage\";\r\n// import the db from save song\r\nimport MainPlayer from \"../components/player/MainPlayer\";\r\n// pages\r\nconst LoginPage = lazy(() => import(\"./LoginPage\"));\r\nconst RenderDatabase = lazy(() => import(\"./RenderDatabase\"));\r\nconst SearchResult = lazy(() => import(\"./SearchResult\"));\r\nconst HomePage = lazy(() => import(\"./sections/HomePage\"));\r\nconst FeedbackForm = lazy(() => import(\"./sections/FeedbackForm\"));\r\nconst PrivacyPage = lazy(() => import(\"./sections/PrivacyPage\"));\r\nconst DonatePage = lazy(() => import(\"./sections/DonatePage\"));\r\nconst ContributorsPage = lazy(() => import(\"./sections/ContributorsPage\"));\r\n\r\n// custom styling the tab menus\r\nconst CustomTab = withStyles({\r\n  root: {\r\n    background: \"#e91e63\",\r\n    position: \"fixed\",\r\n    bottom: \"0\",\r\n    padding: 0,\r\n    width: \"100%\",\r\n    zIndex: 1300\r\n  },\r\n  indicator: {\r\n    display: \"none\"\r\n  },\r\n  labelIcon: {\r\n    margin: 0\r\n  }\r\n})(Tabs);\r\n\r\nconst CustomTabs = withStyles({\r\n  root: {\r\n    color: \"#FFB2C1\",\r\n    fontSize: \".75rem\",\r\n    margin: 0,\r\n\r\n    \"&:hover\": {\r\n      color: \"#ffffffed\",\r\n      opacity: 1\r\n    },\r\n    \"&$selected\": {\r\n      color: \"#fff\"\r\n    },\r\n    \"&:focus\": {\r\n      color: \"#FFFFFF\"\r\n    }\r\n  },\r\n\r\n  selected: {}\r\n})(Tab);\r\n\r\nlet deferredPrompt = undefined;\r\nlet previousLocation;\r\n\r\nwindow.addEventListener(\"beforeinstallprompt\", e => {\r\n  // Stash the event so it can be triggered later.\r\n  deferredPrompt = e;\r\n});\r\n\r\nconst CurrentSection = ({ history, location }) => {\r\n  const [{ currentVideoSnippet, searchResult }] = useContext(GlobalContext);\r\n  console.log(currentVideoSnippet);\r\n\r\n  const [songsHistoryState, setSongsHistory] = useState([]);\r\n  const [songsLikedState, setSongsLiked] = useState([]);\r\n  const [songsDownloadedState, setSongsDownloaded] = useState([]);\r\n  const [tabValue, setTabValue] = useState(0);\r\n  const [updateCount, setUpdateCount] = useState(0);\r\n  const [redirectState, setRedirectState] = useState(null);\r\n\r\n  const circularLoader = (\r\n    <Grid\r\n      style={{ height: \"100vh\" }}\r\n      container\r\n      justify=\"center\"\r\n      alignItems=\"center\"\r\n    >\r\n      <CircularProgress />\r\n    </Grid>\r\n  );\r\n\r\n  function handleChange(event, newValue) {\r\n    setTabValue(newValue);\r\n  }\r\n\r\n  const fetchSongs = useCallback(async () => {\r\n    //it's same as the orders of our tabs\r\n    switch (tabValue) {\r\n      case 1:\r\n        setSongsLiked(await getLikedSongs());\r\n        break;\r\n\r\n      case 2:\r\n        setSongsDownloaded(await getDownloadedSongs());\r\n        break;\r\n\r\n      case 3:\r\n        setSongsHistory(await getHistory());\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }, [tabValue]);\r\n  //\r\n  useEffect(() => {\r\n    fetchSongs();\r\n  }, [tabValue, fetchSongs]);\r\n\r\n  useEffect(() => {\r\n    fetchSongs();\r\n    console.log(\"fetching the songs\");\r\n  }, [updateCount, fetchSongs]);\r\n\r\n  useEffect(() => {\r\n    db.on(\"changes\", () => {\r\n      setUpdateCount(c => c + 1);\r\n    });\r\n    // will remove all the songs which are downloading in the first place\r\n    removeDownloadingState();\r\n\r\n    const isThisNewUser = localStorage.getItem(\"isThisNew\");\r\n    if (isThisNewUser === \"no\") {\r\n      setRedirectState(true);\r\n    }\r\n    // if this is not a new user redirect it to home\r\n    previousLocation = location;\r\n    history.listen(location => {\r\n      if (location.pathname !== \"/play\") {\r\n        previousLocation = location;\r\n        console.log(previousLocation);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // we will redirect everytime user comes to root page\r\n    if (redirectState && history.location.pathname === \"/\") {\r\n      history.replace(\"/home\");\r\n    }\r\n\r\n    // if the location is not play then we will push new location\r\n  }, [setRedirectState, history, redirectState]);\r\n\r\n  const checkPrevLocation = () => {\r\n    if (location.pathname === \"/play\") {\r\n      return previousLocation;\r\n    } else {\r\n      return location;\r\n    }\r\n  };\r\n\r\n  // we will load the homepage with all the playlists\r\n  const continueToHome = () => {\r\n    localStorage.setItem(\"isThisNew\", \"no\");\r\n    history.replace(\"/home\");\r\n\r\n    if (deferredPrompt) {\r\n      // show the prompt to install app\r\n      deferredPrompt.prompt();\r\n      // Wait for the user to respond to the prompt\r\n      deferredPrompt.userChoice.then(choiceResult => {\r\n        if (choiceResult.outcome === \"accepted\") {\r\n          console.log(\"User accepted the A2HS prompt\");\r\n        } else {\r\n          console.log(\"User dismissed the A2HS prompt\");\r\n        }\r\n        deferredPrompt = null;\r\n      });\r\n    }\r\n  };\r\n\r\n  const returnMainPlayer = props => {\r\n    // we will return the main player if the path is not the \"/\"\r\n\r\n    if (window.location.pathname !== \"/\") {\r\n      return <MainPlayer {...props} />;\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // the set tab value will keep the tab active on their route\r\n  // there are 4 tabs so there will be 3 indexes\r\n  return (\r\n    <div>\r\n      <Suspense fallback={circularLoader}>\r\n        <Switch location={checkPrevLocation()}>\r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            render={props => {\r\n              return <LoginPage continueToHome={continueToHome} />;\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/search\"\r\n            render={props => <SearchResult videos={searchResult} />}\r\n          />\r\n          <Route\r\n            path=\"/home\"\r\n            render={props => {\r\n              setTabValue(0);\r\n              return <HomePage />;\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/liked\"\r\n            render={props => {\r\n              setTabValue(1);\r\n              return (\r\n                <RenderDatabase\r\n                  songs={songsLikedState}\r\n                  {...props}\r\n                  key={location.pathname}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/downloads\"\r\n            render={props => {\r\n              setTabValue(2);\r\n              return (\r\n                <RenderDatabase\r\n                  songs={songsDownloadedState}\r\n                  key={location.pathname}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/history\"\r\n            render={props => {\r\n              setTabValue(3);\r\n              return (\r\n                <RenderDatabase\r\n                  songs={songsHistoryState}\r\n                  key={location.pathname}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/app\"\r\n            render={props => {\r\n              window.location.replace(\r\n                \"https://play.google.com/store/apps/details?id=com.ylightmusic.app\"\r\n              );\r\n              return <div>Redirecting you to play store</div>;\r\n            }}\r\n          />\r\n\r\n          <Route path=\"/settings\" component={SettingsPage} />\r\n          <Route path=\"/privacy\" component={PrivacyPage} />\r\n\r\n          <Route path=\"/feedback\" component={FeedbackForm} />\r\n          <Route path=\"/donate\" component={DonatePage} />\r\n          <Route path=\"/contributors\" component={ContributorsPage} />\r\n        </Switch>\r\n        <Route path=\"/\" render={props => returnMainPlayer(props)} />\r\n\r\n        <div style={{ height: currentVideoSnippet.id ? \"100px\" : \"50px\" }} />\r\n      </Suspense>\r\n      {/* if the player is on then return 100px else 50px*/}\r\n      <CustomTab\r\n        value={tabValue}\r\n        onChange={handleChange}\r\n        variant=\"fullWidth\"\r\n        indicatorColor=\"primary\"\r\n        textColor=\"primary\"\r\n      >\r\n        <CustomTabs\r\n          icon={<Home />}\r\n          aria-label=\"Home\"\r\n          component={Link}\r\n          to=\"/home\"\r\n          label=\"Home\"\r\n        />\r\n\r\n        <CustomTabs\r\n          icon={<Favorite />}\r\n          aria-label=\"Liked\"\r\n          component={Link}\r\n          to=\"/liked\"\r\n          label=\"Liked\"\r\n        />\r\n\r\n        <CustomTabs\r\n          icon={<GetApp />}\r\n          aria-label=\"Downloads\"\r\n          component={Link}\r\n          to=\"/downloads\"\r\n          label=\"Downloads\"\r\n        />\r\n        <CustomTabs\r\n          icon={<History />}\r\n          aria-label=\"History\"\r\n          component={Link}\r\n          to=\"/history\"\r\n          label=\"History\"\r\n        />\r\n      </CustomTab>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(CurrentSection);\r\n","import React, { useState, useContext, useEffect, useCallback } from \"react\";\r\n\r\nimport {\r\n  SwipeableDrawer,\r\n  Avatar,\r\n  Divider,\r\n  Button,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Link as MaterialLink\r\n} from \"@material-ui/core\";\r\n\r\nimport {\r\n  AccountCircle,\r\n  Feedback,\r\n  Info,\r\n  FreeBreakfast,\r\n  People,\r\n  Settings\r\n} from \"@material-ui/icons\";\r\n\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { GlobalContext } from \"./GlobalState\";\r\nimport \"./darkMode.css\";\r\nimport moon from \"../images/moon-solid.svg\";\r\nimport sun from \"../images/sun-solid.svg\";\r\n\r\nconst SwipeMenu = () => {\r\n  const [{ menuOpen, themeSelectValue }, dispatch] = useContext(GlobalContext);\r\n\r\n  const setMenuOpen = data => {\r\n    dispatch({ type: \"setMenuOpen\", snippet: data });\r\n  };\r\n\r\n  const setThemeSelectValue = useCallback(\r\n    data => {\r\n      dispatch({ type: \"setThemeSelectValue\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const [isNight, setIsNight] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (themeSelectValue === \"Dark\") {\r\n      setIsNight(true);\r\n    } else {\r\n      setIsNight(false);\r\n    }\r\n  }, [themeSelectValue]);\r\n\r\n  const changeTheme = theme => {\r\n    setThemeSelectValue(theme);\r\n    localStorage.setItem(\"selectedTheme\", theme);\r\n  };\r\n\r\n  const handleThemeToggle = () => {\r\n    if (!isNight) {\r\n      changeTheme(\"Dark\");\r\n      setIsNight(false);\r\n    } else {\r\n      changeTheme(\"Default\");\r\n      setIsNight(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <SwipeableDrawer\r\n      open={menuOpen}\r\n      onClose={() => setMenuOpen(false)}\r\n      onOpen={() => setMenuOpen(true)}\r\n    >\r\n      <div style={{ width: \"300px\" }}>\r\n        <div\r\n          style={{\r\n            margin: \"35px\",\r\n            position: \"relative\",\r\n            width: \"30px\",\r\n            height: \"30px\"\r\n          }}\r\n        >\r\n          <AnimatePresence>\r\n            <motion.img\r\n              key={isNight ? sun : moon}\r\n              initial={{ scale: 0 }}\r\n              animate={{ scale: 1.5, rotate: \"360deg\" }}\r\n              exit={{ scale: 0 }}\r\n              // transition={{ duration: 0.5 }}\r\n              src={isNight ? sun : moon}\r\n              onClick={() => handleThemeToggle()}\r\n              className=\"dayNightToggleBtn\"\r\n              alt=\"sun moon icon\"\r\n            />\r\n          </AnimatePresence>\r\n        </div>\r\n\r\n        <Divider />\r\n\r\n        <List\r\n          component=\"nav\"\r\n          className={\"pinkLists\"}\r\n          onClick={() => setMenuOpen(false)}\r\n        >\r\n          <ListItem button component={Link} to=\"/settings\">\r\n            <ListItemIcon>\r\n              <Settings />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Settings\" />\r\n          </ListItem>\r\n          {/* <ListItem button component={Link} to=\"/feedback\">\r\n            <ListItemIcon>\r\n              <Feedback />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Feedback\" />\r\n          </ListItem> */}\r\n          {/* <ListItem button component={Link} to=\"/donate\">\r\n            <ListItemIcon>\r\n              <FreeBreakfast />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Donate & Support\" />\r\n          </ListItem> */}\r\n          {/* <ListItem button component={Link} to=\"/contributors\">\r\n            <ListItemIcon>\r\n              <People />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Contributors\" />\r\n          </ListItem> */}\r\n          {/* <ListItem\r\n            button\r\n            component={MaterialLink}\r\n            target=\"blank\"\r\n            href=\"https://github.com/ShivamJoker/Ylight-Music-Client\"\r\n          >\r\n            <ListItemIcon>\r\n              <svg\r\n                width=\"24\"\r\n                aria-hidden=\"true\"\r\n                focusable=\"false\"\r\n                data-prefix=\"fab\"\r\n                data-icon=\"github\"\r\n                role=\"img\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                viewBox=\"0 0 496 512\"\r\n                fill=\"#e91e63\"\r\n              >\r\n                <path d=\"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z\" />\r\n              </svg>\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Github\" />\r\n          </ListItem> */}\r\n          <ListItem button component={Link} to=\"/privacy\">\r\n            <ListItemIcon>\r\n              <Info />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Privacy & Policy\" />\r\n          </ListItem>\r\n        </List>\r\n      </div>\r\n    </SwipeableDrawer>\r\n  );\r\n};\r\n\r\nexport default SwipeMenu;\r\n","import React, { useContext, useEffect, useCallback } from \"react\";\r\nimport {\r\n  Container,\r\n  FormControl,\r\n  Select,\r\n  MenuItem,\r\n  FormGroup,\r\n  FormControlLabel,\r\n  Box,\r\n  Typography\r\n} from \"@material-ui/core\";\r\n\r\nimport { GlobalContext } from \"../GlobalState\";\r\n\r\nexport const useCheckDarkmode = () => {\r\n  const [, dispatch] = useContext(GlobalContext);\r\n  const setThemeSelectValue = useCallback(\r\n    data => {\r\n      dispatch({ type: \"setThemeSelectValue\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n  const checkDarkMode = () => {\r\n    const selectedTheme = localStorage.getItem(\"selectedTheme\");\r\n\r\n    // we will check if system dark mode is enabled or not\r\n\r\n    const colorScheme = window.matchMedia(\"(prefers-color-scheme: dark)\");\r\n    colorScheme.addEventListener(\"change\", e => {\r\n      if (e.matches) {\r\n        // if it matches we will set it to dark else default\r\n        setThemeSelectValue(\"Dark\");\r\n      } else {\r\n        setThemeSelectValue(\"Default\");\r\n      }\r\n    });\r\n    if (selectedTheme) {\r\n      console.log(selectedTheme);\r\n      setThemeSelectValue(selectedTheme);\r\n\r\n      const date = new Date();\r\n      const hrs = date.getHours();\r\n\r\n      // if the theme is auto then only do it\r\n      if (selectedTheme === \"Auto\") {\r\n        if (hrs >= 18 || hrs <= 6) {\r\n          setThemeSelectValue(\"Dark\");\r\n        } else {\r\n          setThemeSelectValue(\"Default\");\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return { checkDarkMode };\r\n};\r\n\r\nconst SettingsPage = () => {\r\n  const [{ themeSelectValue }, dispatch] = useContext(GlobalContext);\r\n  const setThemeSelectValue = useCallback(\r\n    data => {\r\n      dispatch({ type: \"setThemeSelectValue\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n  const handleThemeChange = e => {\r\n    setThemeSelectValue(e.target.value);\r\n    localStorage.setItem(\"selectedTheme\", e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(themeSelectValue);\r\n  }, [themeSelectValue]);\r\n\r\n  const selectComp = (\r\n    <Box m={1}>\r\n      \r\n      <Select\r\n        value={themeSelectValue}\r\n        onChange={handleThemeChange}\r\n        displayEmpty\r\n        name=\"age\"\r\n      >\r\n        <MenuItem value=\"Default\">Default</MenuItem>\r\n        <MenuItem value=\"Dark\">Dark</MenuItem>\r\n        <MenuItem value=\"Auto\">Auto</MenuItem>\r\n      </Select>\r\n    </Box>\r\n  );\r\n  return (\r\n    <Container>\r\n      <br />\r\n      <Typography variant=\"h5\" align=\"center\" gutterBottom>\r\n        Settings\r\n      </Typography>\r\n      <FormControl component=\"fieldset\">\r\n        <FormGroup row>\r\n          <FormControlLabel\r\n            labelPlacement=\"start\"\r\n            label=\"Select Theme \"\r\n            value=\"top\"\r\n            control={selectComp}\r\n          />\r\n        </FormGroup>\r\n      </FormControl>\r\n    </Container>\r\n  );\r\n};\r\nexport default SettingsPage;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\n\r\nimport SimpleAppBar from \"./header/SimpleAppBar\";\r\nimport MainPlayer from \"./player/MainPlayer\";\r\nimport SwipeMenu from \"./SwipeMenu\";\r\nimport CurrentSection from \"./CurrentSection\";\r\nimport SnackbarMessage from \"./SnackbarMessage\";\r\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { pink } from \"@material-ui/core/colors\";\r\n\r\nimport { useCheckDarkmode } from \"./sections/SettingsPage\";\r\nimport { GlobalContext } from \"./GlobalState\";\r\n\r\nconst body = document.querySelector(\"body\");\r\n\r\nconst defaultTheme = {\r\n  palette: {\r\n    primary: pink,\r\n    secondary: {\r\n      main: \"#fafafa\"\r\n    }\r\n  },\r\n  typography: {\r\n    useNextVariants: true\r\n  }\r\n};\r\n\r\nconst darkTheme = {\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: pink,\r\n    secondary: {\r\n      main: \"#fafafa\"\r\n    }\r\n  },\r\n  typography: {\r\n    useNextVariants: true\r\n  }\r\n};\r\n\r\nconst muiDarkTheme = createMuiTheme(darkTheme);\r\nconst muiDefaultTheme = createMuiTheme(defaultTheme);\r\n\r\nconst AppContainer = () => {\r\n  const [{ themeSelectValue }, dispatch] = useContext(GlobalContext);\r\n\r\n  const { checkDarkMode } = useCheckDarkmode();\r\n\r\n  useEffect(() => {\r\n    checkDarkMode();\r\n\r\n    if (navigator.userAgent.match(/Android/i)) {\r\n      body.style.overscrollBehavior = \"none\";\r\n      // this is to disable pull refresh on android\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (themeSelectValue === \"Dark\") {\r\n      body.classList.add(\"dark\");\r\n    } else {\r\n      body.classList.remove(\"dark\");\r\n    }\r\n  }, [themeSelectValue]);\r\n\r\n  return (\r\n    <MuiThemeProvider\r\n      theme={themeSelectValue === \"Dark\" ? muiDarkTheme : muiDefaultTheme}\r\n    >\r\n      <Router>\r\n        <SimpleAppBar />\r\n        <Route component={CurrentSection} />\r\n\r\n        <SwipeMenu />\r\n      </Router>\r\n       \r\n    </MuiThemeProvider>\r\n  );\r\n};\r\nexport default AppContainer;\r\n","import React from \"react\";\r\n\r\nimport \"typeface-roboto\";\r\nimport { GlobalState } from \"./GlobalState\";\r\nimport AppContainer from \"./AppContainer\";\r\n\r\nfunction App() {\r\n  return (\r\n    <GlobalState>\r\n      <AppContainer />\r\n    </GlobalState>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n// this do not works","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n      // [::1] is the IPv6 localhost address.\r\n      window.location.hostname === '[::1]' ||\r\n      // 127.0.0.1/8 is considered localhost for IPv4.\r\n      window.location.hostname.match(\r\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n      )\r\n  );\r\n  \r\n  export function register(config) {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n      // The URL constructor is available in all browsers that support SW.\r\n      const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n      if (publicUrl.origin !== window.location.origin) {\r\n        // Our service worker won't work if PUBLIC_URL is on a different origin\r\n        // from what our page is served on. This might happen if a CDN is used to\r\n        // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n        return;\r\n      }\r\n  \r\n      window.addEventListener('load', () => {\r\n        const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n  \r\n        if (isLocalhost) {\r\n          // This is running on localhost. Let's check if a service worker still exists or not.\r\n          checkValidServiceWorker(swUrl, config);\r\n  \r\n          // Add some additional logging to localhost, pointing developers to the\r\n          // service worker/PWA documentation.\r\n          navigator.serviceWorker.ready.then(() => {\r\n            console.log(\r\n              'This web app is being served cache-first by a service ' +\r\n                'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n            );\r\n          });\r\n        } else {\r\n          // Is not localhost. Just register service worker\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  \r\n  function registerValidSW(swUrl, config) {\r\n    navigator.serviceWorker\r\n      .register(swUrl)\r\n      .then(registration => {\r\n        registration.onupdatefound = () => {\r\n          const installingWorker = registration.installing;\r\n          if (installingWorker == null) {\r\n            return;\r\n          }\r\n          installingWorker.onstatechange = () => {\r\n            if (installingWorker.state === 'installed') {\r\n              if (navigator.serviceWorker.controller) {\r\n                // At this point, the updated precached content has been fetched,\r\n                // but the previous service worker will still serve the older\r\n                // content until all client tabs are closed.\r\n                console.log(\r\n                  'New content is available and will be used when all ' +\r\n                    'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n                );\r\n  \r\n                // Execute callback\r\n                if (config && config.onUpdate) {\r\n                  config.onUpdate(registration);\r\n                }\r\n              } else {\r\n                // At this point, everything has been precached.\r\n                // It's the perfect time to display a\r\n                // \"Content is cached for offline use.\" message.\r\n                console.log('Content is cached for offline use.');\r\n  \r\n                // Execute callback\r\n                if (config && config.onSuccess) {\r\n                  config.onSuccess(registration);\r\n                }\r\n              }\r\n            }\r\n          };\r\n        };\r\n      })\r\n      .catch(error => {\r\n        console.error('Error during service worker registration:', error);\r\n      });\r\n  }\r\n  \r\n  function checkValidServiceWorker(swUrl, config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl)\r\n      .then(response => {\r\n        // Ensure service worker exists, and that we really are getting a JS file.\r\n        const contentType = response.headers.get('content-type');\r\n        if (\r\n          response.status === 404 ||\r\n          (contentType != null && contentType.indexOf('javascript') === -1)\r\n        ) {\r\n          // No service worker found. Probably a different app. Reload the page.\r\n          navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister().then(() => {\r\n              window.location.reload();\r\n            });\r\n          });\r\n        } else {\r\n          // Service worker found. Proceed as normal.\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        console.log(\r\n          'No internet connection found. App is running in offline mode.'\r\n        );\r\n      });\r\n  }\r\n  \r\n  export function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n      navigator.serviceWorker.ready.then(registration => {\r\n        registration.unregister();\r\n      });\r\n    }\r\n  }\r\n  ","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\nserviceWorker.register();\r\n","import React, { useReducer } from \"react\";\r\n\r\nexport const GlobalContext = React.createContext();\r\n\r\nconst initialState = {\r\n  searchState: \"home\",\r\n  searchResult: [],\r\n  relatedVideos: [],\r\n  menuOpen: false,\r\n  snackbarMsg: false,\r\n  currentVideoSnippet: {},\r\n  themeSelectValue: \"Default\"\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"setCurrentVideoSnippet\":\r\n      return {\r\n        ...state,\r\n        currentVideoSnippet: action.snippet\r\n      };\r\n\r\n    case \"setRelatedVideos\": {\r\n      return {\r\n        ...state,\r\n        relatedVideos: action.snippet\r\n      };\r\n    }\r\n    case \"setSnackbarMsg\": {\r\n      return {\r\n        ...state,\r\n        snackbarMsg: action.snippet\r\n      };\r\n    }\r\n    case \"setThemeSelectValue\": {\r\n      return {\r\n        ...state,\r\n        themeSelectValue: action.snippet\r\n      };\r\n    }\r\n    case \"setSearchState\": {\r\n      return {\r\n        ...state,\r\n        searchState: action.snippet\r\n      };\r\n    }\r\n    case \"setSearchResult\": {\r\n      return {\r\n        ...state,\r\n        searchResult: action.snippet\r\n      };\r\n    }\r\n    case \"setMenuOpen\": {\r\n      return {\r\n        ...state,\r\n        menuOpen: action.snippet\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const GlobalState = props => {\r\n  const globalState = useReducer(reducer, initialState);\r\n  return (\r\n    <GlobalContext.Provider value={globalState}>\r\n      {props.children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};\r\n","import Dexie from \"dexie\";\r\nimport \"dexie-observable\";\r\nimport { promised } from \"q\";\r\nimport { promises } from \"fs\";\r\n\r\n// Define your database\r\nexport const db = new Dexie(\"Song_Database\");\r\n\r\n// create new databse\r\n// our schema is of storing a song\r\ndb.version(1).stores({\r\n  songs:\r\n    \"&videoId, timestamp, playbackTimes, [rating+timestamp], [downloadState+timestamp]\"\r\n});\r\n\r\ndb.version(2).stores({});\r\n\r\n// add or update song on play\r\nexport const updatePlayingSong = async data => {\r\n  const videoObj = {\r\n    videoId: data.id,\r\n    timestamp: Date.now(),\r\n    title: data.title,\r\n    channelTitle: data.channelTitle,\r\n    playbackTimes: 1\r\n  };\r\n\r\n  const song = await db.songs.get({ videoId: data.id });\r\n  // if song exists we will just update the timestamp and the playback\r\n  if (song) {\r\n    db.songs.update(data.id, {\r\n      timestamp: Date.now(),\r\n      playbackTimes: song.playbackTimes + 1\r\n    });\r\n    console.log(\"song updated\");\r\n    return song.rating;\r\n    // return the rating\r\n  } else {\r\n    // we will add a new song\r\n    console.log(\"song added\");\r\n    db.songs.add(videoObj);\r\n  }\r\n};\r\n\r\n// like or dislike a song on database\r\nexport const rateSong = async (id, rating) => {\r\n  // if user likes the song then only download it\r\n\r\n  db.songs.update(id, {\r\n    rating: rating\r\n  });\r\n};\r\n\r\nexport const getHistory = async () => {\r\n  const songsByTimeStamp = await db.songs\r\n    .orderBy(\"timestamp\")\r\n    .limit(500)\r\n    .reverse()\r\n    .toArray();\r\n  return songsByTimeStamp;\r\n};\r\n\r\nexport const getLikedSongs = async () => {\r\n  const likedSongs = await db.songs\r\n    .where(\"[rating+timestamp]\") //this will filter song based on time and liked\r\n    .between([\"liked\", Dexie.minKey], [\"liked\", Dexie.maxKey])\r\n    .reverse()\r\n    .toArray();\r\n  return likedSongs;\r\n};\r\n\r\nexport const getDownloadedSongs = async () => {\r\n  const downloadedSongs = await db.songs\r\n    .where(\"[downloadState+timestamp]\") //this will filter song based on time and downloaded\r\n    .between([\"downloaded\", Dexie.minKey], [\"downloaded\", Dexie.maxKey])\r\n    .reverse()\r\n    .toArray();\r\n  return downloadedSongs;\r\n};\r\n\r\nexport const removeDownloadingState = async () => {\r\n  // find all the downloadState which is downloading and remove that\r\n  const songs = await db.songs\r\n    .where(\"[downloadState+timestamp]\")\r\n    .between([\"downloading\", Dexie.minKey], [\"downloading\", Dexie.maxKey])\r\n    .modify(x => {\r\n      delete x.downloadState;\r\n    });\r\n  console.log(songs);\r\n};\r\n\r\nexport const downloadSong = async (id, url) => {\r\n  try {\r\n    db.songs.update(id, {\r\n      downloadState: \"downloading\"\r\n    });\r\n    const thumbURL = `https://i.ytimg.com/vi/${id}/hqdefault.jpg`;\r\n    const [thumbnailBlob, songBlob] = await Promise.all([\r\n      fetchProxiedBlob(thumbURL),\r\n      fetchProxiedBlob(url)\r\n    ]);\r\n    db.songs.update(id, {\r\n      downloadState: \"downloaded\",\r\n      thumbnail: thumbnailBlob,\r\n      audio: songBlob\r\n    });\r\n    return \"downloaded\";\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const deleteSongAudio = async id => {\r\n  await db.songs.where({ videoId: id }).modify(x => {\r\n    delete x.audio;\r\n    delete x.downloadState;\r\n  });\r\n  return \"song deleted\";\r\n};\r\n\r\nfunction fetchProxiedBlob(url) {\r\n  const URL = url;\r\n  return new Promise(function(resolve, reject) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"GET\", \"https://server.ylight.xyz/proxy/\" + URL);\r\n    xhr.responseType = \"blob\";\r\n    xhr.onload = function() {\r\n      var status = xhr.status;\r\n      if (status >= 200 && status < 300) {\r\n        resolve(xhr.response);\r\n      } else {\r\n        reject({\r\n          status: status,\r\n          statusText: xhr.statusText\r\n        });\r\n      }\r\n    };\r\n    xhr.send();\r\n    setTimeout(() => {\r\n      xhr.abort();\r\n      xhr.open(\"GET\", \"https://server.ylight.xyz/proxy/\" + URL);\r\n\r\n      xhr.send();\r\n    }, 1000);\r\n  });\r\n}\r\n","import axios from \"axios\";\r\n\r\n// put your api keys in .env file you can get those here - https://developers.google.com/youtube/v3/getting-started\r\nexport const selectRandomKey = () => {\r\n  const keys = process.env.REACT_APP_YouTube_Keys.split(\" \"); //we are splitting the api keys to make an array\r\n  const random = Math.floor(Math.random() * Math.floor(keys.length)); //this will get a random number\r\n  return keys[random];\r\n};\r\n\r\nexport default axios.create({\r\n  baseURL: \"https://www.googleapis.com/youtube/v3\",\r\n  params: {\r\n    part: \"snippet\",\r\n    videoCategoryId: \"10\",\r\n    type: \"video\",\r\n    key: selectRandomKey()\r\n  }\r\n});\r\n","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n  baseURL: 'https://server.ylight.xyz',\r\n  // baseURL: 'https://ylight.glitch.me',\r\n});\r\n","module.exports = __webpack_public_path__ + \"static/media/moon-solid.bfe0ee19.svg\";","module.exports = __webpack_public_path__ + \"static/media/sun-solid.f4e2a770.svg\";"],"sourceRoot":""}